(self.modernJsonp=self.modernJsonp||[]).push([["57207"],{704103:function(e,t,r){e.exports=r.p+"73817f7299552609.wasm"},287054:function(e,t,r){r.d(t,{q:()=>rh,Z5:()=>ey,Qr:()=>tX,q_:()=>t8,Yz:()=>t9,to:()=>rn});var n,i,a,o,f=r(667294),s=Object.defineProperty,u={},l={assign:()=>$,colors:()=>V,createStringInterpolator:()=>i,skipAnimation:()=>j,to:()=>a,willAdvance:()=>q};for(var c in l)s(u,c,{get:l[c],enumerable:!0});var _=M(),d=e=>S(e,_),b=M();d.write=e=>S(e,b);var g=M();d.onStart=e=>S(e,g);var h=M();d.onFrame=e=>S(e,h);var w=M();d.onFinish=e=>S(e,w);var m=[];d.setTimeout=(e,t)=>{let r=d.now()+t,n=()=>{let e=m.findIndex(e=>e.cancel==n);~e&&m.splice(e,1),v-=!!~e},i={time:r,handler:e,cancel:n};return m.splice(p(r),0,i),v+=1,k(),i};var p=e=>~(~m.findIndex(t=>t.time>e)||~m.length);d.cancel=e=>{g.delete(e),h.delete(e),w.delete(e),_.delete(e),b.delete(e)},d.sync=e=>{I=!0,d.batchedUpdates(e),I=!1},d.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...e){t=e,d.onStart(r)}return n.handler=e,n.cancel=()=>{g.delete(r),t=null},n};var y="undefined"!=typeof window?window.requestAnimationFrame:()=>{};d.use=e=>y=e,d.now="undefined"!=typeof performance?()=>performance.now():Date.now,d.batchedUpdates=e=>e(),d.catch=console.error,d.frameLoop="always",d.advance=()=>{"demand"!==d.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):P()};var x=-1,v=0,I=!1;function S(e,t){I?(t.delete(e),e(0)):(t.add(e),k())}function k(){x<0&&(x=0,"demand"!==d.frameLoop&&y(F))}function F(){~x&&(y(F),d.batchedUpdates(P))}function P(){let e=x,t=p(x=d.now());if(t&&(R(m.splice(0,t),e=>e.handler()),v-=t),!v)return void(x=-1);g.flush(),_.flush(e?Math.min(64,x-e):16.667),h.flush(),b.flush(),w.flush()}function M(){let e=new Set,t=e;return{add(r){v+=+!(t!=e||e.has(r)),e.add(r)},delete:r=>(v-=t==e&&e.has(r)?1:0,e.delete(r)),flush(r){t.size&&(e=new Set,v-=t.size,R(t,t=>t(r)&&e.add(t)),v+=e.size,t=e)}}}function R(e,t){e.forEach(e=>{try{t(e)}catch(e){d.catch(e)}})}function A(){}var E={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function B(e,t){if(E.arr(e)){if(!E.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var C=(e,t)=>e.forEach(t);function D(e,t,r){if(E.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(let n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var T=e=>E.und(e)?[]:E.arr(e)?e:[e];function O(e,t){if(e.size){let r=Array.from(e);e.clear(),C(r,t)}}var z=(e,...t)=>O(e,e=>e(...t)),L=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),V=null,j=!1,q=A,$=e=>{e.to&&(a=e.to),e.now&&(d.now=e.now),void 0!==e.colors&&(V=e.colors),null!=e.skipAnimation&&(j=e.skipAnimation),e.createStringInterpolator&&(i=e.createStringInterpolator),e.requestAnimationFrame&&d.use(e.requestAnimationFrame),e.batchedUpdates&&(d.batchedUpdates=e.batchedUpdates),e.willAdvance&&(q=e.willAdvance),e.frameLoop&&(d.frameLoop=e.frameLoop)},N=new Set,W=[],U=[],Q=0,H={get idle(){return!N.size&&!W.length},start(e){Q>e.priority?(N.add(e),d.onStart(G)):(X(e),d(Z))},advance:Z,sort(e){if(Q)d.onFrame(()=>H.sort(e));else{let t=W.indexOf(e);~t&&(W.splice(t,1),Y(e))}},clear(){W=[],N.clear()}};function G(){N.forEach(X),N.clear(),d(Z)}function X(e){W.includes(e)||Y(e)}function Y(e){W.splice(function(e,t){let r=e.findIndex(t);return r<0?e.length:r}(W,t=>t.priority>e.priority),0,e)}function Z(e){let t=U;for(let r=0;r<W.length;r++){let n=W[r];Q=n.priority,!n.idle&&(q(n),n.advance(e),n.idle||t.push(n))}return Q=0,(U=W).length=0,(W=t).length>0}var J="[-+]?\\d*\\.?\\d+",K=J+"%";function ee(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var et=RegExp("rgb"+ee(J,J,J)),er=RegExp("rgba"+ee(J,J,J,J)),en=RegExp("hsl"+ee(J,K,K)),ei=RegExp("hsla"+ee(J,K,K,J)),ea=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,eo=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ef=/^#([0-9a-fA-F]{6})$/,es=/^#([0-9a-fA-F]{8})$/;function eu(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function el(e,t,r){let n=r<.5?r*(1+t):r+t-r*t,i=2*r-n;return Math.round(255*eu(i,n,e+1/3))<<24|Math.round(255*eu(i,n,e))<<16|Math.round(255*eu(i,n,e-1/3))<<8}function ec(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function e_(e){return(parseFloat(e)%360+360)%360/360}function ed(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function eb(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function eg(e){let t,r="number"==typeof e?e>>>0===e&&e>=0&&e<=0xffffffff?e:null:(t=ef.exec(e))?parseInt(t[1]+"ff",16)>>>0:V&&void 0!==V[e]?V[e]:(t=et.exec(e))?(ec(t[1])<<24|ec(t[2])<<16|ec(t[3])<<8|255)>>>0:(t=er.exec(e))?(ec(t[1])<<24|ec(t[2])<<16|ec(t[3])<<8|ed(t[4]))>>>0:(t=ea.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=es.exec(e))?parseInt(t[1],16)>>>0:(t=eo.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=en.exec(e))?(255|el(e_(t[1]),eb(t[2]),eb(t[3])))>>>0:(t=ei.exec(e))?(el(e_(t[1]),eb(t[2]),eb(t[3]))|ed(t[4]))>>>0:null;if(null===r)return e;let n=(0xff000000&(r=r||0))>>>24,i=(0xff0000&r)>>>16,a=(65280&r)>>>8,o=(255&r)/255;return`rgba(${n}, ${i}, ${a}, ${o})`}var eh=(e,t,r)=>{if(E.fun(e))return e;if(E.arr(e))return eh({range:e,output:t,extrapolate:r});if(E.str(e.output[0]))return i(e);let n=e.output,a=e.range||[0,1],o=e.extrapolateLeft||e.extrapolate||"extend",f=e.extrapolateRight||e.extrapolate||"extend",s=e.easing||(e=>e);return t=>{let r=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(t,a);return function(e,t,r,n,i,a,o,f,s){let u=s?s(e):e;if(u<t)if("identity"===o)return u;else"clamp"===o&&(u=t);if(u>r)if("identity"===f)return u;else"clamp"===f&&(u=r);return n===i?n:t===r?e<=t?n:i:(t===-1/0?u=-u:r===1/0?u-=t:u=(u-t)/(r-t),u=a(u),n===-1/0?u=-u:i===1/0?u+=n:u=u*(i-n)+n,u)}(t,a[r],a[r+1],n[r],n[r+1],s,o,f,e.map)}},ew=2*Math.PI/3,em=2*Math.PI/4.5,ep=e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,ey={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>2.70158*e*e*e-1.70158*e*e,easeOutBack:e=>1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*ew),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*ew)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*em))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*em)/2+1,easeInBounce:e=>1-ep(1-e),easeOutBounce:ep,easeInOutBounce:e=>e<.5?(1-ep(1-2*e))/2:(1+ep(2*e-1))/2,steps:(e,t="end")=>r=>{let n=(r="end"===t?Math.min(r,.999):Math.max(r,.001))*e;return Math.min(Math.max(("end"===t?Math.floor(n):Math.ceil(n))/e,0),1)}},ex=Symbol.for("FluidValue.get"),ev=Symbol.for("FluidValue.observers"),eI=e=>!!(e&&e[ex]),eS=e=>e&&e[ex]?e[ex]():e,ek=e=>e[ev]||null;function eF(e,t){let r=e[ev];r&&r.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}var eP=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");eM(this,e)}},eM=(e,t)=>eE(e,ex,t);function eR(e,t){if(e[ex]){let r=e[ev];r||eE(e,ev,r=new Set),!r.has(t)&&(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function eA(e,t){let r=e[ev];if(r&&r.has(t)){let n=r.size-1;n?r.delete(t):e[ev]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var eE=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),eB=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eC=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eD=RegExp(`(${eB.source})(%|[a-z]+)`,"i"),eT=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ez=e=>{let[t,r]=eL(e);if(!t||L())return e;let n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(e)return e}else if(r&&eO.test(r))return ez(r);else if(r)return r;return e},eL=e=>{let t=eO.exec(e);if(!t)return[,];let[,r,n]=t;return[r,n]},eV=(e,t,r,n,i)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,ej=e=>{o||(o=V?RegExp(`(${Object.keys(V).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>eS(e).replace(eO,ez).replace(eC,eg).replace(o,eg)),r=t.map(e=>e.match(eB).map(Number)),n=r[0].map((e,t)=>r.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>eh({...e,output:t}));return e=>{let r=!eD.test(t[0])&&t.find(e=>eD.test(e))?.replace(eB,""),i=0;return t[0].replace(eB,()=>`${n[i++](e)}${r||""}`).replace(eT,eV)}},eq="react-spring: ",e$=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eq}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},eN=e$(console.warn),eW=e$(console.warn);function eU(e){return E.str(e)&&("#"==e[0]||/\d/.test(e)||!L()&&eO.test(e)||e in(V||{}))}var eQ=L()?f.useEffect:f.useLayoutEffect;function eH(){let e=(0,f.useState)()[1],t=(()=>{let e=(0,f.useRef)(!1);return eQ(()=>(e.current=!0,()=>{e.current=!1}),[]),e})();return()=>{t.current&&e(Math.random())}}var eG=e=>(0,f.useEffect)(e,eX),eX=[];function eY(e){let t=(0,f.useRef)();return(0,f.useEffect)(()=>{t.current=e}),t.current}var eZ=Symbol.for("Animated:node"),eJ=e=>e&&e[eZ],eK=(e,t)=>Object.defineProperty(e,eZ,{value:t,writable:!0,configurable:!0}),e0=e=>e&&e[eZ]&&e[eZ].getPayload(),e1=class{constructor(){eK(this,this)}getPayload(){return this.payload||[]}},e2=class extends e1{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,E.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new e2(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return E.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,E.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},e3=class extends e2{constructor(e){super(0),this._string=null,this._toString=eh({output:[e,e]})}static create(e){return new e3(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(E.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=eh({output:[this.getValue(),e]})),this._value=0,super.reset()}},e4={dependencies:null},e5=class extends e1{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return D(this.source,(r,n)=>{r&&r[eZ]===r?t[n]=r.getValue(e):eI(r)?t[n]=eS(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&C(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return D(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){e4.dependencies&&eI(e)&&e4.dependencies.add(e);let t=e0(e);t&&C(t,e=>this.add(e))}},e8=class extends e5{constructor(e){super(e)}static create(e){return new e8(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,r)=>t.setValue(e[r])).some(Boolean):(super.setValue(e.map(e9)),!0)}};function e9(e){return(eU(e)?e3:e2).create(e)}function e6(e){let t=eJ(e);return t?t.constructor:E.arr(e)?e8:eU(e)?e3:e2}var e7=(e,t)=>{let r=!E.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,f.forwardRef)((n,i)=>{let a=(0,f.useRef)(null),o=r&&(0,f.useCallback)(e=>{i&&(E.fun(i)?i(e):i.current=e),a.current=e},[i]),[s,u]=function(e,t){let r=new Set;return e4.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new e5(e),e4.dependencies=null,[e,r]}(n,t),l=eH(),c=()=>{let e=a.current;(!r||e)&&!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&l()},_=new te(c,u),b=(0,f.useRef)();eQ(()=>(b.current=_,C(u,e=>eR(e,_)),()=>{b.current&&(C(b.current.deps,e=>eA(e,b.current)),d.cancel(b.current.update))})),(0,f.useEffect)(c,[]),eG(()=>()=>{let e=b.current;C(e.deps,t=>eA(t,e))});let g=t.getComponentProps(s.getValue());return f.createElement(e,{...g,ref:o})})},te=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&d.write(this.update)}},tt=Symbol.for("AnimatedComponent"),tr=e=>E.str(e)?e:e&&E.str(e.displayName)?e.displayName:E.fun(e)&&e.name||null;function tn(e,...t){return E.fun(e)?e(...t):e}var ti=(e,t)=>!0===e||!!(t&&e&&(E.fun(e)?e(t):T(e).includes(t))),ta=(e,t)=>E.obj(e)?t&&e[t]:e,to=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tf=e=>e,ts=(e,t=tf)=>{let r=tu;e.default&&!0!==e.default&&(r=Object.keys(e=e.default));let n={};for(let i of r){let r=t(e[i],i);E.und(r)||(n[i]=r)}return n},tu=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tl={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tc(e){let t=function(e){let t={},r=0;if(D(e,(e,n)=>{!tl[n]&&(t[n]=e,r++)}),r)return t}(e);if(t){let r={to:t};return D(e,(e,n)=>n in t||(r[n]=e)),r}return{...e}}function t_(e){return e=eS(e),E.arr(e)?e.map(t_):eU(e)?u.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function td(e){for(let t in e)return!0;return!1}function tb(e){return E.fun(e)||E.arr(e)&&E.obj(e[0])}function tg(e,t){e.ref?.delete(e),t?.delete(e)}function th(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var tw={...{tension:170,friction:26},mass:1,damping:1,easing:ey.linear,clamp:!1},tm=class{constructor(){this.velocity=0,Object.assign(this,tw)}};function tp(e,t){if(E.und(t.decay)){let r=!E.und(t.tension)||!E.und(t.friction);!r&&E.und(t.frequency)&&E.und(t.damping)&&E.und(t.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}var ty=[],tx=class{constructor(){this.changed=!1,this.values=ty,this.toValues=null,this.fromValues=ty,this.config=new tm,this.immediate=!1}};function tv(e,{key:t,props:r,defaultProps:n,state:i,actions:a}){return new Promise((o,f)=>{let s,l,c=ti(r.cancel??n?.cancel,t);if(c)g();else{E.und(r.pause)||(i.paused=ti(r.pause,t));let e=n?.pause;!0!==e&&(e=i.paused||ti(e,t)),s=tn(r.delay||0,t),e?(i.resumeQueue.add(b),a.pause()):(a.resume(),b())}function _(){i.resumeQueue.add(b),i.timeouts.delete(l),l.cancel(),s=l.time-d.now()}function b(){s>0&&!u.skipAnimation?(i.delayed=!0,l=d.setTimeout(g,s),i.pauseQueue.add(_),i.timeouts.add(l)):g()}function g(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(_),i.timeouts.delete(l),e<=(i.cancelId||0)&&(c=!0);try{a.start({...r,callId:e,cancel:c},o)}catch(e){f(e)}}})}var tI=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tF(e.get()):t.every(e=>e.noop)?tS(e.get()):tk(e.get(),t.every(e=>e.finished)),tS=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tk=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),tF=e=>({value:e,cancelled:!0,finished:!1});function tP(e,t,r,n){let{callId:i,parentId:a,onRest:o}=t,{asyncTo:f,promise:s}=r;return a||e!==f||t.reset?r.promise=(async()=>{let l,c,_;r.asyncId=i,r.asyncTo=e;let b=ts(t,(e,t)=>"onRest"===t?void 0:e),g=new Promise((e,t)=>(l=e,c=t)),h=e=>{let t=i<=(r.cancelId||0)&&tF(n)||i!==r.asyncId&&tk(n,!1);if(t)throw e.result=t,c(e),e},w=(e,t)=>{let a=new tR,o=new tA;return(async()=>{if(u.skipAnimation)throw tM(r),o.result=tk(n,!1),c(o),o;h(a);let f=E.obj(e)?{...e}:{...t,to:e};f.parentId=i,D(b,(e,t)=>{E.und(f[t])&&(f[t]=e)});let s=await n.start(f);return h(a),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),s})()};if(u.skipAnimation)return tM(r),tk(n,!1);try{let t;t=E.arr(e)?(async e=>{for(let t of e)await w(t)})(e):Promise.resolve(e(w,n.stop.bind(n))),await Promise.all([t.then(l),g]),_=tk(n.get(),!0,!1)}catch(e){if(e instanceof tR)_=e.result;else if(e instanceof tA)_=e.result;else throw e}finally{i==r.asyncId&&(r.asyncId=a,r.asyncTo=a?f:void 0,r.promise=a?s:void 0)}return E.fun(o)&&d.batchedUpdates(()=>{o(_,n,n.item)}),_})():s}function tM(e,t){O(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var tR=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tA=class extends Error{constructor(){super("SkipAnimationSignal")}},tE=1,tB=class extends eP{constructor(){super(...arguments),this.id=tE++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=eJ(this);return e&&e.getValue()}to(...e){return u.to(this,e)}interpolate(...e){return eN(`${eq}The "interpolate" function is deprecated in v9 (use "to" instead)`),u.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){eF(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||H.sort(this),eF(this,{type:"priority",parent:this,priority:e})}},tC=Symbol.for("SpringPhase"),tD=e=>(1&e[tC])>0,tT=e=>(2&e[tC])>0,tO=e=>(4&e[tC])>0,tz=(e,t)=>t?e[tC]|=3:e[tC]&=-3,tL=(e,t)=>t?e[tC]|=4:e[tC]&=-5,tV=class extends tB{constructor(e,t){if(super(),this.animation=new tx,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!E.und(e)||!E.und(t)){let r=E.obj(e)?{...e}:{...t,from:e};E.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(tT(this)||this._state.asyncTo)||tO(this)}get goal(){return eS(this.animation.to)}get velocity(){let e=eJ(this);return e instanceof e2?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return tD(this)}get isAnimating(){return tT(this)}get isPaused(){return tO(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1,n=this.animation,{toValues:i}=n,{config:a}=n,o=e0(n.to);!o&&eI(n.to)&&(i=T(eS(n.to))),n.values.forEach((f,s)=>{if(f.done)return;let u=f.constructor==e3?1:o?o[s].lastPosition:i[s],l=n.immediate,c=u;if(!l){let t;if(c=f.lastPosition,a.tension<=0){f.done=!0;return}let r=f.elapsedTime+=e,i=n.fromValues[s],o=null!=f.v0?f.v0:f.v0=E.arr(a.velocity)?a.velocity[s]:a.velocity,_=a.precision||(i==u?.005:Math.min(1,.001*Math.abs(u-i)));if(E.und(a.duration))if(a.decay){let e=!0===a.decay?.998:a.decay,n=Math.exp(-(1-e)*r);c=i+o/(1-e)*(1-n),l=Math.abs(f.lastPosition-c)<=_,t=o*n}else{t=null==f.lastVelocity?o:f.lastVelocity;let r=a.restVelocity||_/10,n=a.clamp?0:a.bounce,s=!E.und(n),d=i==u?f.v0>0:i<u,b=Math.ceil(e/1);for(let e=0;e<b&&!(!(Math.abs(t)>r)&&(l=Math.abs(u-c)<=_));++e){s&&(c==u||c>u==d)&&(t=-t*n,c=u);let e=(-(1e-6*a.tension)*(c-u)+-(.001*a.friction)*t)/a.mass;t+=+e,c+=+t}}else{let n=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,f.durationProgress>0&&(f.elapsedTime=a.duration*f.durationProgress,r=f.elapsedTime+=e)),f.durationProgress=n=(n=(a.progress||0)+r/this._memoizedDuration)>1?1:n<0?0:n),t=((c=i+a.easing(n)*(u-i))-f.lastPosition)/e,l=1==n}f.lastVelocity=t,Number.isNaN(c)&&(console.warn("Got NaN while animating:",this),l=!0)}o&&!o[s].done&&(l=!1),l?f.done=!0:t=!1,f.setValue(c,a.round)&&(r=!0)});let f=eJ(this),s=f.getValue();if(t){let e=eS(n.to);(s!==e||r)&&!a.decay?(f.setValue(e),this._onChange(e)):r&&a.decay&&this._onChange(s),this._stop()}else r&&this._onChange(s)}set(e){return d.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(tT(this)){let{to:e,config:t}=this.animation;d.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return E.und(e)?(r=this.queue||[],this.queue=[]):r=[E.obj(e)?e:{...t,to:e}],Promise.all(r.map(e=>this._update(e))).then(e=>tI(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tM(this._state,e&&this._lastCallId),d.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:r,from:n}=e;(null==(r=E.obj(r)?r[t]:r)||tb(r))&&(r=void 0),null==(n=E.obj(n)?n[t]:n)&&(n=void 0);let i={to:r,from:n};return!tD(this)&&(e.reverse&&([r,n]=[n,r]),n=eS(n),E.und(n)?eJ(this)||this._set(r):this._set(n)),i}_update({...e},t){let{key:r,defaultProps:n}=this;e.default&&Object.assign(n,ts(e,(e,t)=>/^on/.test(t)?ta(e,r):e)),tU(this,e,"onProps"),tQ(this,"onProps",e,this);let i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let a=this._state;return tv(++this._lastCallId,{key:r,props:e,defaultProps:n,state:a,actions:{pause:()=>{tO(this)||(tL(this,!0),z(a.pauseQueue),tQ(this,"onPause",tk(this,tj(this,this.animation.to)),this))},resume:()=>{tO(this)&&(tL(this,!1),tT(this)&&this._resume(),z(a.resumeQueue),tQ(this,"onResume",tk(this,tj(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(r=>{if(e.loop&&r.finished&&!(t&&r.noop)){let t=tq(e);if(t)return this._update(t,!0)}return r})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(tF(this));let n=!E.und(e.to),i=!E.und(e.from);if(n||i)if(!(t.callId>this._lastToId))return r(tF(this));else this._lastToId=t.callId;let{key:a,defaultProps:o,animation:f}=this,{to:s,from:u}=f,{to:l=s,from:c=u}=e;i&&!n&&(!t.default||E.und(l))&&(l=c),t.reverse&&([l,c]=[c,l]);let _=!B(c,u);_&&(f.from=c),c=eS(c);let b=!B(l,s);b&&this._focus(l);let g=tb(t.to),{config:h}=f,{decay:w,velocity:m}=h;(n||i)&&(h.velocity=0),t.config&&!g&&function(e,t,r){for(let n in r&&(tp(r={...r},t),t={...r,...t}),tp(e,t),Object.assign(e,t),tw)null==e[n]&&(e[n]=tw[n]);let{frequency:n,damping:i}=e,{mass:a}=e;E.und(n)||(n<.01&&(n=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/n,2)*a,e.friction=4*Math.PI*i*a/n)}(h,tn(t.config,a),t.config!==o.config?tn(o.config,a):void 0);let p=eJ(this);if(!p||E.und(l))return r(tk(this,!0));let y=E.und(t.reset)?i&&!t.default:!E.und(c)&&ti(t.reset,a),x=y?c:this.get(),v=t_(l),I=E.num(v)||E.arr(v)||eU(v),S=!g&&(!I||ti(o.immediate||t.immediate,a));if(b){let e=e6(l);if(e!==p.constructor)if(S)p=this._set(v);else throw Error(`Cannot animate between ${p.constructor.name} and ${e.name}, as the "to" prop suggests`)}let k=p.constructor,F=eI(l),P=!1;if(!F){let e=y||!tD(this)&&_;(b||e)&&(F=!(P=B(t_(x),v))),(B(f.immediate,S)||S)&&B(h.decay,w)&&B(h.velocity,m)||(F=!0)}if(P&&tT(this)&&(f.changed&&!y?F=!0:F||this._stop(s)),!g&&((F||eI(s))&&(f.values=p.getPayload(),f.toValues=eI(l)?null:k==e3?[1]:T(v)),f.immediate!=S&&(f.immediate=S,S||y||this._set(s)),F)){let{onRest:e}=f;C(tW,e=>tU(this,t,e));let n=tk(this,tj(this,s));z(this._pendingCalls,n),this._pendingCalls.add(r),f.changed&&d.batchedUpdates(()=>{f.changed=!y,e?.(n,this),y?tn(o.onRest,n):f.onStart?.(n,this)})}y&&this._set(x),g?r(tP(t.to,t,this._state,this)):F?this._start():tT(this)&&!b?this._pendingCalls.add(r):r(tS(x))}_focus(e){let t=this.animation;e!==t.to&&(ek(this)&&this._detach(),t.to=e,ek(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;eI(t)&&(eR(t,this),t instanceof tB&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;eI(e)&&eA(e,this)}_set(e,t=!0){let r=eS(e);if(!E.und(r)){let e=eJ(this);if(!e||!B(r,e.getValue())){let n=e6(r);e&&e.constructor==n?e.setValue(r):eK(this,n.create(r)),e&&d.batchedUpdates(()=>{this._onChange(r,t)})}}return eJ(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,tQ(this,"onStart",tk(this,tj(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tn(this.animation.onChange,e,this)),tn(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;eJ(this).reset(eS(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),!tT(this)&&(tz(this,!0),tO(this)||this._resume())}_resume(){u.skipAnimation?this.finish():H.start(this)}_stop(e,t){if(tT(this)){tz(this,!1);let r=this.animation;C(r.values,e=>{e.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),eF(this,{type:"idle",parent:this});let n=t?tF(this.get()):tk(this.get(),tj(this,e??r.to));z(this._pendingCalls,n),r.changed&&(r.changed=!1,tQ(this,"onRest",n,this))}}};function tj(e,t){let r=t_(t);return B(t_(e.get()),r)}function tq(e,t=e.loop,r=e.to){let n=tn(t);if(n){let i=!0!==n&&tc(n),a=(i||e).reverse,o=!i||i.reset;return t$({...e,loop:t,default:!1,pause:void 0,to:!a||tb(r)?r:void 0,from:o?e.from:void 0,reset:o,...i})}}function t$(e){let{to:t,from:r}=e=tc(e),n=new Set;return E.obj(t)&&tN(t,n),E.obj(r)&&tN(r,n),e.keys=n.size?Array.from(n):null,e}function tN(e,t){D(e,(e,r)=>null!=e&&t.add(r))}var tW=["onStart","onRest","onChange","onPause","onResume"];function tU(e,t,r){e.animation[r]=t[r]!==to(t,r)?ta(t[r],e.key):void 0}function tQ(e,t,...r){e.animation[t]?.(...r),e.defaultProps[t]?.(...r)}var tH=["onStart","onChange","onRest"],tG=1,tX=class{constructor(e,t){this.id=tG++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];E.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(t$(e)),this}start(e){let{queue:t}=this;return(e?t=T(e).map(t$):this.queue=[],this._flush)?this._flush(this,t):(t2(this,t),tY(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let r=this.springs;C(T(t),t=>r[t].stop(!!e))}else tM(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(E.und(e))this.start({pause:!0});else{let t=this.springs;C(T(e),e=>t[e].pause())}return this}resume(e){if(E.und(e))this.start({pause:!1});else{let t=this.springs;C(T(e),e=>t[e].resume())}return this}each(e){D(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,O(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let a=!n&&this._started,o=i||a&&r.size?this.get():null;i&&t.size&&O(t,([e,t])=>{t.value=o,e(t,this,this._item)}),a&&(this._started=!1,O(r,([e,t])=>{t.value=o,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}d.onFrame(this._onFrame)}};function tY(e,t){return Promise.all(t.map(t=>tZ(e,t))).then(t=>tI(e,t))}async function tZ(e,t,r){let{keys:n,to:i,from:a,loop:o,onRest:f,onResolve:s}=t,u=E.obj(t.default)&&t.default;o&&(t.loop=!1),!1===i&&(t.to=null),!1===a&&(t.from=null);let l=E.arr(i)||E.fun(i)?i:void 0;l?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):C(tH,r=>{let n=t[r];if(E.fun(n)){let i=e._events[r];t[r]=({finished:e,cancelled:t})=>{let r=i.get(n);r?(e||(r.finished=!1),t&&(r.cancelled=!0)):i.set(n,{value:null,finished:e||!1,cancelled:t||!1})},u&&(u[r]=t[r])}});let c=e._state;!c.paused===t.pause?(c.paused=t.pause,z(t.pause?c.pauseQueue:c.resumeQueue)):c.paused&&(t.pause=!0);let _=(n||Object.keys(e.springs)).map(r=>e.springs[r].start(t)),b=!0===t.cancel||!0===to(t,"cancel");(l||b&&c.asyncId)&&_.push(tv(++e._lastAsyncId,{props:t,state:c,actions:{pause:A,resume:A,start(t,r){b?(tM(c,e._lastAsyncId),r(tF(e))):(t.onRest=f,r(tP(l,t,c,e)))}}})),c.paused&&await new Promise(e=>{c.resumeQueue.add(e)});let g=tI(e,await Promise.all(_));if(o&&g.finished&&!(r&&g.noop)){let r=tq(t,o,i);if(r)return t2(e,[r]),tZ(e,r,!0)}return s&&d.batchedUpdates(()=>s(g,e,e.item)),g}function tJ(e,t){let r={...e.springs};return t&&C(T(t),e=>{E.und(e.keys)&&(e=t$(e)),E.obj(e.to)||(e={...e,to:void 0}),t1(r,e,e=>t0(e))}),tK(e,r),r}function tK(e,t){D(t,(t,r)=>{e.springs[r]||(e.springs[r]=t,eR(t,e))})}function t0(e,t){let r=new tV;return r.key=e,t&&eR(r,t),r}function t1(e,t,r){t.keys&&C(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function t2(e,t){C(t,t=>{t1(e.springs,t,t=>t0(t,e))})}var t3=({children:e,...t})=>{let r=(0,f.useContext)(t4),n=t.pause||!!r.pause,i=t.immediate||!!r.immediate;t=function(e,t){let[r]=(0,f.useState)(()=>({inputs:t,result:e()})),n=(0,f.useRef)(),i=n.current,a=i;return a?t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,a.inputs)||(a={inputs:t,result:e()}):a=r,(0,f.useEffect)(()=>{n.current=a,i==r&&(r.inputs=r.result=void 0)},[a]),a.result}(()=>({pause:n,immediate:i}),[n,i]);let{Provider:a}=t4;return f.createElement(a,{value:t},e)},t4=(n={},Object.assign(t3,f.createContext(n)),t3.Provider._context=t3,t3.Consumer._context=t3,t3);t3.Provider=t4.Provider,t3.Consumer=t4.Consumer;var t5=()=>{let e=[],t=function(t){eW(`${eq}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let n=[];return C(e,(e,i)=>{if(E.und(t))n.push(e.start());else{let a=r(t,e,i);a&&n.push(e.start(a))}}),n};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let r=e.indexOf(t);~r&&e.splice(r,1)},t.pause=function(){return C(e,e=>e.pause(...arguments)),this},t.resume=function(){return C(e,e=>e.resume(...arguments)),this},t.set=function(t){C(e,(e,r)=>{let n=E.fun(t)?t(r,e):t;n&&e.set(n)})},t.start=function(t){let r=[];return C(e,(e,n)=>{if(E.und(t))r.push(e.start());else{let i=this._getProps(t,e,n);i&&r.push(e.start(i))}}),r},t.stop=function(){return C(e,e=>e.stop(...arguments)),this},t.update=function(t){return C(e,(e,r)=>e.update(this._getProps(t,e,r))),this};let r=function(e,t,r){return E.fun(e)?e(r,t):e};return t._getProps=r,t};function t8(e,t){let r=E.fun(e),[[n],i]=function(e,t,r){let n=E.fun(t)&&t;n&&!r&&(r=[]);let i=(0,f.useMemo)(()=>n||3==arguments.length?t5():void 0,[]),a=(0,f.useRef)(0),o=eH(),s=(0,f.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let r=tJ(e,t);return!(a.current>0)||s.queue.length||Object.keys(r).some(t=>!e.springs[t])?new Promise(n=>{tK(e,r),s.queue.push(()=>{n(tY(e,t))}),o()}):tY(e,t)}}),[]),u=(0,f.useRef)([...s.ctrls]),l=[],c=eY(e)||0;function _(e,r){for(let i=e;i<r;i++){let e=u.current[i]||(u.current[i]=new tX(null,s.flush)),r=n?n(i,e):t[i];r&&(l[i]=function(e){let t=t$(e);return E.und(t.default)&&(t.default=ts(t)),t}(r))}}(0,f.useMemo)(()=>{C(u.current.slice(e,c),e=>{tg(e,i),e.stop(!0)}),u.current.length=e,_(c,e)},[e]),(0,f.useMemo)(()=>{_(0,Math.min(c,e))},r);let d=u.current.map((e,t)=>tJ(e,l[t])),b=(0,f.useContext)(t3),g=eY(b),h=b!==g&&td(b);eQ(()=>{a.current++,s.ctrls=u.current;let{queue:e}=s;e.length&&(s.queue=[],C(e,e=>e())),C(u.current,(e,t)=>{i?.add(e),h&&e.start({default:b});let r=l[t];r&&(th(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),eG(()=>()=>{C(s.ctrls,e=>e.stop(!0))});let w=d.map(e=>({...e}));return i?[w,i]:w}(1,r?e:[e],r?t||[]:t);return r||2==arguments.length?[n,i]:n}function t9(e,t,r){let n=E.fun(t)&&t,{reset:i,sort:a,trail:o=0,expires:s=!0,exitBeforeEnter:u=!1,onDestroyed:l,ref:c,config:_}=n?n():t,d=(0,f.useMemo)(()=>n||3==arguments.length?t5():void 0,[]),b=T(e),g=[],h=(0,f.useRef)(null),w=i?null:h.current;eQ(()=>{h.current=g}),eG(()=>(C(g,e=>{d?.add(e.ctrl),e.ctrl.ref=d}),()=>{C(h.current,e=>{e.expired&&clearTimeout(e.expirationId),tg(e.ctrl,d),e.ctrl.stop(!0)})}));let m=function(e,{key:t,keys:r=t},n){if(null===r){let t=new Set;return e.map(e=>{let r=n&&n.find(r=>r.item===e&&"leave"!==r.phase&&!t.has(r));return r?(t.add(r),r.key):t6++})}return E.und(r)?e:E.fun(r)?e.map(r):T(r)}(b,n?n():t,w),p=i&&h.current||[];eQ(()=>C(p,({ctrl:e,item:t,key:r})=>{tg(e,d),tn(l,t,r)}));let y=[];if(w&&C(w,(e,t)=>{e.expired?(clearTimeout(e.expirationId),p.push(e)):~(t=y[t]=m.indexOf(e.key))&&(g[t]=e)}),C(b,(e,t)=>{g[t]||(g[t]={key:m[t],item:e,phase:"mount",ctrl:new tX},g[t].ctrl.item=e)}),y.length){let e=-1,{leave:r}=n?n():t;C(y,(t,n)=>{let i=w[n];~t?(e=g.indexOf(i),g[e]={...i,item:b[t]}):r&&g.splice(++e,0,i)})}E.fun(a)&&g.sort((e,t)=>a(e.item,t.item));let x=-o,v=eH(),I=ts(t),S=new Map,k=(0,f.useRef)(new Map),F=(0,f.useRef)(!1);C(g,(e,r)=>{let i,a,f=e.key,l=e.phase,d=n?n():t,b=tn(d.delay||0,f);if("mount"==l)i=d.enter,a="enter";else{let e=0>m.indexOf(f);if("leave"!=l)if(e)i=d.leave,a="leave";else{if(!(i=d.update))return;a="update"}else{if(e)return;i=d.enter,a="enter"}}if(i=tn(i,e.item,r),!(i=E.obj(i)?tc(i):{to:i}).config){let t=_||I.config;i.config=tn(t,e.item,r,a)}x+=o;let g={...I,delay:b+x,ref:c,immediate:d.immediate,reset:!1,...i};if("enter"==a&&E.und(g.from)){let i=n?n():t;g.from=tn(E.und(i.initial)||w?i.from:i.initial,e.item,r)}let{onResolve:p}=g;g.onResolve=e=>{tn(p,e);let t=h.current,r=t.find(e=>e.key===f);if(r&&(!e.cancelled||"update"==r.phase)&&r.ctrl.idle){let e=t.every(e=>e.ctrl.idle);if("leave"==r.phase){let t=tn(s,r.item);if(!1!==t){let n=!0===t?0:t;if(r.expired=!0,!e&&n>0){n<=0x7fffffff&&(r.expirationId=setTimeout(v,n));return}}}e&&t.some(e=>e.expired)&&(k.current.delete(r),u&&(F.current=!0),v())}};let y=tJ(e.ctrl,g);"leave"===a&&u?k.current.set(e,{phase:a,springs:y,payload:g}):S.set(e,{phase:a,springs:y,payload:g})});let P=(0,f.useContext)(t3),M=eY(P),R=P!==M&&td(P);eQ(()=>{R&&C(g,e=>{e.ctrl.start({default:P})})},[P]),C(S,(e,t)=>{if(k.current.size){let e=g.findIndex(e=>e.key===t.key);g.splice(e,1)}}),eQ(()=>{C(k.current.size?k.current:S,({phase:e,payload:t},r)=>{let{ctrl:n}=r;r.phase=e,d?.add(n),R&&"enter"==e&&n.start({default:P}),t&&(th(n,t.ref),(n.ref||d)&&!F.current?n.update(t):(n.start(t),F.current&&(F.current=!1)))})},i?void 0:r);let A=e=>f.createElement(f.Fragment,null,g.map((t,r)=>{let{springs:n}=S.get(t)||t.ctrl,i=e({...n},t.item,t,r);return i&&i.type?f.createElement(i.type,{...i.props,key:E.str(t.key)||E.num(t.key)?t.key:t.ctrl.id,ref:i.ref}):i}));return d?[A,d]:A}var t6=1,t7=class extends tB{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=eh(...t);let r=this._get();eK(this,e6(r).create(r))}advance(e){let t=this._get();B(t,this.get())||(eJ(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&rt(this._active)&&rr(this)}_get(){let e=E.arr(this.source)?this.source.map(eS):T(eS(this.source));return this.calc(...e)}_start(){this.idle&&!rt(this._active)&&(this.idle=!1,C(e0(this),e=>{e.done=!1}),u.skipAnimation?(d.batchedUpdates(()=>this.advance()),rr(this)):H.start(this))}_attach(){let e=1;C(T(this.source),t=>{eI(t)&&eR(t,this),t instanceof tB&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){C(T(this.source),e=>{eI(e)&&eA(e,this)}),this._active.clear(),rr(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=T(this.source).reduce((e,t)=>Math.max(e,(t instanceof tB?t.priority:0)+1),0))}};function re(e){return!1!==e.idle}function rt(e){return!e.size||Array.from(e).every(re)}function rr(e){e.idle||(e.idle=!0,C(e0(e),e=>{e.done=!0}),eF(e,{type:"idle",parent:e}))}var rn=(e,...t)=>new t7(e,t);u.assign({createStringInterpolator:ej,to:(e,t)=>new t7(e,t)}),H.advance;var ri=r(973935),ra=/^--/,ro={},rf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","Ms","Moz","O"];rf=Object.keys(rf).reduce((e,t)=>(rs.forEach(r=>e[r+t.charAt(0).toUpperCase()+t.substring(1)]=e[t]),e),rf);var ru=/^(matrix|translate|scale|rotate|skew)/,rl=/^(translate)/,rc=/^(rotate|skew)/,r_=(e,t)=>E.num(e)&&0!==e?e+t:e,rd=(e,t)=>E.arr(e)?e.every(e=>rd(e,t)):E.num(e)?e===t:parseFloat(e)===t,rb=class extends e5{constructor({x:e,y:t,z:r,...n}){let i=[],a=[];(e||t||r)&&(i.push([e||0,t||0,r||0]),a.push(e=>[`translate3d(${e.map(e=>r_(e,"px")).join(",")})`,rd(e,0)])),D(n,(e,t)=>{if("transform"===t)i.push([e||""]),a.push(e=>[e,""===e]);else if(ru.test(t)){if(delete n[t],E.und(e))return;let r=rl.test(t)?"px":rc.test(t)?"deg":"";i.push(T(e)),a.push("rotate3d"===t?([e,t,n,i])=>[`rotate3d(${e},${t},${n},${r_(i,r)})`,rd(i,0)]:e=>[`${t}(${e.map(e=>r_(e,r)).join(",")})`,rd(e,+!!t.startsWith("scale"))])}}),i.length&&(n.transform=new rg(i,a)),super(n)}},rg=class extends eP{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return C(this.inputs,(r,n)=>{let i=eS(r[0]),[a,o]=this.transforms[n](E.arr(i)?i:r.map(eS));e+=" "+a,t=t&&o}),t?"none":e}observerAdded(e){1==e&&C(this.inputs,e=>C(e,e=>eI(e)&&eR(e,this)))}observerRemoved(e){0==e&&C(this.inputs,e=>C(e,e=>eI(e)&&eA(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),eF(this,e)}};u.assign({batchedUpdates:ri.unstable_batchedUpdates,createStringInterpolator:ej,colors:{transparent:0,aliceblue:0xf0f8ffff,antiquewhite:0xfaebd7ff,aqua:0xffffff,aquamarine:0x7fffd4ff,azure:0xf0ffffff,beige:0xf5f5dcff,bisque:0xffe4c4ff,black:255,blanchedalmond:0xffebcdff,blue:65535,blueviolet:0x8a2be2ff,brown:0xa52a2aff,burlywood:0xdeb887ff,burntsienna:0xea7e5dff,cadetblue:0x5f9ea0ff,chartreuse:0x7fff00ff,chocolate:0xd2691eff,coral:0xff7f50ff,cornflowerblue:0x6495edff,cornsilk:0xfff8dcff,crimson:0xdc143cff,cyan:0xffffff,darkblue:35839,darkcyan:9145343,darkgoldenrod:0xb8860bff,darkgray:0xa9a9a9ff,darkgreen:6553855,darkgrey:0xa9a9a9ff,darkkhaki:0xbdb76bff,darkmagenta:0x8b008bff,darkolivegreen:0x556b2fff,darkorange:0xff8c00ff,darkorchid:0x9932ccff,darkred:0x8b0000ff,darksalmon:0xe9967aff,darkseagreen:0x8fbc8fff,darkslateblue:0x483d8bff,darkslategray:0x2f4f4fff,darkslategrey:0x2f4f4fff,darkturquoise:0xced1ff,darkviolet:0x9400d3ff,deeppink:0xff1493ff,deepskyblue:0xbfffff,dimgray:0x696969ff,dimgrey:0x696969ff,dodgerblue:0x1e90ffff,firebrick:0xb22222ff,floralwhite:0xfffaf0ff,forestgreen:0x228b22ff,fuchsia:0xff00ffff,gainsboro:0xdcdcdcff,ghostwhite:0xf8f8ffff,gold:0xffd700ff,goldenrod:0xdaa520ff,gray:0x808080ff,green:8388863,greenyellow:0xadff2fff,grey:0x808080ff,honeydew:0xf0fff0ff,hotpink:0xff69b4ff,indianred:0xcd5c5cff,indigo:0x4b0082ff,ivory:0xfffff0ff,khaki:0xf0e68cff,lavender:0xe6e6faff,lavenderblush:0xfff0f5ff,lawngreen:0x7cfc00ff,lemonchiffon:0xfffacdff,lightblue:0xadd8e6ff,lightcoral:0xf08080ff,lightcyan:0xe0ffffff,lightgoldenrodyellow:0xfafad2ff,lightgray:0xd3d3d3ff,lightgreen:0x90ee90ff,lightgrey:0xd3d3d3ff,lightpink:0xffb6c1ff,lightsalmon:0xffa07aff,lightseagreen:0x20b2aaff,lightskyblue:0x87cefaff,lightslategray:0x778899ff,lightslategrey:0x778899ff,lightsteelblue:0xb0c4deff,lightyellow:0xffffe0ff,lime:0xff00ff,limegreen:0x32cd32ff,linen:0xfaf0e6ff,magenta:0xff00ffff,maroon:0x800000ff,mediumaquamarine:0x66cdaaff,mediumblue:52735,mediumorchid:0xba55d3ff,mediumpurple:0x9370dbff,mediumseagreen:0x3cb371ff,mediumslateblue:0x7b68eeff,mediumspringgreen:0xfa9aff,mediumturquoise:0x48d1ccff,mediumvioletred:0xc71585ff,midnightblue:0x191970ff,mintcream:0xf5fffaff,mistyrose:0xffe4e1ff,moccasin:0xffe4b5ff,navajowhite:0xffdeadff,navy:33023,oldlace:0xfdf5e6ff,olive:0x808000ff,olivedrab:0x6b8e23ff,orange:0xffa500ff,orangered:0xff4500ff,orchid:0xda70d6ff,palegoldenrod:0xeee8aaff,palegreen:0x98fb98ff,paleturquoise:0xafeeeeff,palevioletred:0xdb7093ff,papayawhip:0xffefd5ff,peachpuff:0xffdab9ff,peru:0xcd853fff,pink:0xffc0cbff,plum:0xdda0ddff,powderblue:0xb0e0e6ff,purple:0x800080ff,rebeccapurple:0x663399ff,red:0xff0000ff,rosybrown:0xbc8f8fff,royalblue:0x4169e1ff,saddlebrown:0x8b4513ff,salmon:0xfa8072ff,sandybrown:0xf4a460ff,seagreen:0x2e8b57ff,seashell:0xfff5eeff,sienna:0xa0522dff,silver:0xc0c0c0ff,skyblue:0x87ceebff,slateblue:0x6a5acdff,slategray:0x708090ff,slategrey:0x708090ff,snow:0xfffafaff,springgreen:0xff7fff,steelblue:0x4682b4ff,tan:0xd2b48cff,teal:8421631,thistle:0xd8bfd8ff,tomato:0xff6347ff,turquoise:0x40e0d0ff,violet:0xee82eeff,wheat:0xf5deb3ff,white:0xffffffff,whitesmoke:0xf5f5f5ff,yellow:0xffff00ff,yellowgreen:0x9acd32ff}});var rh=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=e=>new e5(e),getComponentProps:n=e=>e}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},a=e=>{let t=tr(e)||"Anonymous";return(e=E.str(e)?a[e]||(a[e]=e7(e,i)):e[tt]||(e[tt]=e7(e,i))).displayName=`Animated(${t})`,e};return D(e,(t,r)=>{E.arr(e)&&(r=tr(t)),a[r]=a(t)}),{animated:a}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;let r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:n,children:i,scrollTop:a,scrollLeft:o,viewBox:f,...s}=t,u=Object.values(s),l=Object.keys(s).map(t=>r||e.hasAttribute(t)?t:ro[t]||(ro[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let t in void 0!==i&&(e.textContent=i),n)if(n.hasOwnProperty(t)){var c;let r=null==(c=n[t])||"boolean"==typeof c||""===c?"":"number"!=typeof c||0===c||ra.test(t)||rf.hasOwnProperty(t)&&rf[t]?(""+c).trim():c+"px";ra.test(t)?e.style.setProperty(t,r):e.style[t]=r}l.forEach((t,r)=>{e.setAttribute(t,u[r])}),void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==f&&e.setAttribute("viewBox",f)},createAnimatedStyle:e=>new rb(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}).animated},602248:function(e,t,r){let n,i,a,o,f,s;r.d(t,{B:()=>d,S:()=>eo,a:()=>C,g:()=>en,r:()=>er,t:()=>y,x:()=>Q});var u=r(785893),l=r(287054),c=r(499238),_=r(667294);let d=375,b=async e=>{let t=document.createElement("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.globalAlpha=.01,r.drawImage(e,0,0);let n=r.getImageData(0,0,e.width,e.height),i=0;for(;i<n.data.length;){let e=n.data[i]+n.data[i+1]+n.data[i+2];n.data[i+3]=e/3,i+=4}return r.putImageData(n,0,0),await createImageBitmap(t)},g=async(e,t,r)=>{let n=e.width*r.offset.x,i=e.height*r.offset.y,a=e.width*r.size.width,o=e.height*r.size.height,f=document.createElement("canvas");f.width=a,f.height=o;let s=f.getContext("2d");s.drawImage(e,-n,-i,e.width,e.height),s.globalCompositeOperation="destination-in";let u=(e=>{let t=document.createElement("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0);let n=r.getImageData(0,0,t.width,t.height).data;for(let e=0;e<n.length;e+=4){let t=n[e],r=n[e+1],i=n[e+2];if(0!==t||0!==r||0!==i)return!1}return!0})(t)?t:await b(t);return s.drawImage(u,0,0,a,o),await createImageBitmap(f)},h=async(e,t,r)=>{let n=atob(t),i=n.length,a=new Uint8Array(i);for(let e=0;e<i;e++)a[e]=n.codePointAt(e);let o=new Blob([a],{type:"image/png"});return g(e,await createImageBitmap(o),r)},w=async(e,t,r)=>{let{svg:n,bbox:i}=((e,t,r)=>{let n=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("width",t.toString()),n.setAttribute("height",r.toString()),n.setAttribute("fill","white"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 1 1"),i.setAttribute("d",e),i.setAttribute("fill","white"),i.setAttribute("stroke","none"),n.append(i);let a=document.createElement("div");a.append(n),document.body.append(a);let o=i.getBBox();return a.remove(),{svg:n,bbox:o}})(e,t,r);if(0===i.height&&0===i.width)return null;let a=new Image;a.src=URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(n)],{type:"image/svg+xml"})),await new Promise(e=>{a.addEventListener("load",()=>{e()},{once:!0})});let o=Math.max(0,Math.floor(i.x*t)),f=Math.max(0,Math.floor(i.y*r)),s=Math.max(1,Math.min(Math.ceil(i.width*t),t-o)),u=Math.max(1,Math.min(Math.ceil(i.height*r),r-f));return{mask:await createImageBitmap(a,o,f,s,u),bounds:{offset:{x:o/t,y:f/r},size:{width:s/t,height:u/r}}}},m=async(e,t)=>{let r=await w(t,e.width,e.height);if(null===r)return null;let{mask:n,bounds:i}=r;return g(e,n,i)},p=e=>{let t=e.width,r=e.height,n=Math.min(2048/t,2048/r,1);return createImageBitmap(e,{resizeWidth:Math.floor(t*n),resizeHeight:Math.floor(r*n),resizeQuality:"high"})},y=(e,t,r)=>({x:e.width/2+t.x*r,y:e.height/2+t.y*r}),x=async(e,t)=>{let r=await (e=>{if(!e.imageBitmap)return null;let t=null==e?void 0:e.mask,r=e.bitmap_mask,n=null==r?void 0:r.mask_image,i=null==r?void 0:r.mask_bounds;if(n&&i){let t={offset:{x:i[0][0],y:i[0][1]},size:{width:i[1][0],height:i[1][1]}};return h(e.imageBitmap,n,t)}return t?m(e.imageBitmap,t):e.imageBitmap})(e);if(!r)return null;let n=t.width/d,i=await (e=>{let t=Math.max(Math.max(e.width/320),Math.max(e.height/320));return t>1?createImageBitmap(e,{resizeWidth:e.width/t,resizeHeight:e.height/t}):e})(r),{id:a,settings:{offset:o,alpha:f,scale:s,rotation:u,is_hidden:l,keyframe_id:c,effects:_}={}}=e,{x:b,y:g}=y(t,o??{x:0,y:0},n);return{alpha:Math.sqrt(f??1),offsetX:b,offsetY:g,keyFrameId:c??void 0,image:await (r.width>=2048||r.height>=2048?p(r):r),height:i.height,width:i.width,rotation:u?{x:u.x,y:u.y,z:-u.z}:{x:0,y:0,z:0},scale:(void 0===s?1:s)*n,shuffleItemId:a,isHidden:!!l,effects:_}},v={0:{family:"Helvetica",fontFile:null},1:{family:"Times New Roman",fontFile:null},2:{family:"Courier New",fontFile:"Courier-New-Bold.ttf"},3:{family:"Roboto Slab",fontFile:"RobotoSlab-Medium.ttf"},4:{family:"Playfair",fontFile:"PlayfairDisplay-Bold.ttf"},5:{family:"Shadows Into Light",fontFile:"ShadowsIntoLight-Regular.ttf"},6:{family:"Yellowtail",fontFile:"Yellowtail-Regular.ttf"},7:{family:"Bangers",fontFile:"Bangers-Regular.ttf"},8:{family:"Bungee Shade",fontFile:"BungeeShade-Regular.ttf"},9:{family:"Brand Hashtag",fontFile:null},10:{family:"Black Letter",fontFile:"UnifrakturMaguntia-Regular.ttf"},11:{family:"Condensed Bold",fontFile:"Anton-Regular.ttf"},12:{family:"Osward",fontFile:"Oswald-VariableFont_wght.ttf"},13:{family:"Slab Serif",fontFile:"AlfaSlabOne-Regular.ttf"},14:{family:"Art Nouveau",fontFile:"Amarante-Regular.ttf"},15:{family:"Copied Font",fontFile:"RubikDistressed-Regular.ttf"},16:{family:"Ornamental",fontFile:"Sancreek-Regular.ttf"},17:{family:"Spikey Weird",fontFile:"RubikBeastly-Regular.ttf"},18:{family:"Alex Brush",fontFile:"AlexBrush-Regular.ttf"},19:{family:"VT323",fontFile:"VT323-Regular.ttf"},20:{family:"Courier Prime",fontFile:"CourierPrime-Regular.ttf"},21:{family:"Courier Prime Italic",fontFile:"CourierPrime-Italic.ttf"},22:{family:"Courier Prime Bold",fontFile:"CourierPrime-Bold.ttf"},23:{family:"Grandstander",fontFile:"Grandstander-VariableFont_wght.ttf"},24:{family:"Grandstander Bold",fontFile:"Grandstander-VariableFont_wght.ttf"},25:{family:"Chakra",fontFile:"ChakraPetch-Regular.ttf"},26:{family:"Chakra Bold",fontFile:"ChakraPetch-Bold.ttf"},27:{family:"Hepta Slab",fontFile:"HeptaSlab-VariableFont_wght.ttf"},28:{family:"Hepta Slab Bold",fontFile:"HeptaSlab-VariableFont_wght.ttf"},29:{family:"Janitor",fontFile:"Janitor.ttf"},30:{family:"Lexend Peta",fontFile:"LexendPeta-Bold.ttf"},31:{family:"Luckiest Guy",fontFile:"LuckiestGuy-Regular.ttf"},32:{family:"Martian Mono",fontFile:"MartianMono-VariableFont_wdth,wght.ttf"},33:{family:"Martian Mono Bold",fontFile:"MartianMono-VariableFont_wdth,wght.ttf"},34:{family:"Meddon",fontFile:"Meddon.ttf"},35:{family:"Mister Firley",fontFile:"Mister-Firley.otf"},36:{family:"New Rocker",fontFile:"NewRocker-Regular.ttf"},37:{family:"Old Standard TT",fontFile:"OldStandardTT-Regular.ttf"},38:{family:"Old Standard TT Italic",fontFile:"OldStandardTT-Italic.ttf"},39:{family:"Old Standard TT Bold",fontFile:"OldStandardTT-Bold.ttf"},40:{family:"Pixel",fontFile:"Silkscreen-Regular.ttf"},41:{family:"Quicksand",fontFile:"Quicksand-VariableFont_wght.ttf"},42:{family:"Quicksand Bold",fontFile:"Quicksand-VariableFont_wght.ttf"},43:{family:"Unbounded",fontFile:"Unbounded-VariableFont_wght.ttf"},44:{family:"Unbounded Bold",fontFile:"Unbounded-VariableFont_wght.ttf"},45:{family:"Graphik Bold Italic",fontFile:"Graphik-Bold-Italic.otf"},46:{family:"Publico Banner Bold",fontFile:"Publico-Banner-Bold.otf"},47:{family:"Publico Banner Ultra Italic",fontFile:"Publico-Banner-Ultra-Italic.otf"},48:{family:"Graphik XCondensed Black",fontFile:"Graphik-XCond-Black.otf"},49:{family:"Lemon Yellow Sun Extra Bold",fontFile:"Lemon-Yellow-Sun-Extra-Bold.otf"}};var I=((n=I||{})[n.NONE=0]="NONE",n[n.PIN=1]="PIN",n[n.TEXT=2]="TEXT",n[n.IMAGE=3]="IMAGE",n),S=((i=S||{})[i.left=0]="left",i[i.center=1]="center",i[i.right=2]="right",i),k=((a=k||{})[a.radial=0]="radial",a[a.linear=1]="linear",a),F=((o=F||{})[o.forward=0]="forward",o[o.backward=1]="backward",o),P=((f=P||{})[f.horizontal=0]="horizontal",f[f.vertical=1]="vertical",f),M=((s=M||{})[s.clockwise=0]="clockwise",s[s.counter_clockwise=1]="counter_clockwise",s);let R=(e,t)=>{let r=document.createElement("canvas").getContext("2d");r.font=t;let n=r.measureText(e),i=n.fontBoundingBoxAscent+n.fontBoundingBoxDescent||n.actualBoundingBoxAscent+n.actualBoundingBoxDescent;return{width:n.width,height:i}},A=(e,t,r)=>{let n=300*r,i=[],a="";for(let r of e){let e=`${a}${r}`,{width:o}=R(e,t);o>n?(i.push(a),a=r):a=e}return i.push(a),i},E=async(e,t,r)=>{var n;let i=e.text;if(!i||!i.text)return null;let a=v[i.font_type]||v[0],o=i.text,f=i.font_size,s=i.color_hex,u=i.background_color_hex,l=i.alignment,c=t.width/d,_=((null==(n=e.settings)?void 0:n.scale)??1)*c,b=`${/bold/i.test(a.family)?"700":"400"} ${f*_}px ${a.family}`;if(a.fontFile){let e=new FontFace(a.family,`url(https://s.pinimg.com/story_pins/fonts/${a.fontFile})`);document.fonts.add(e),await e.load()}let g=((e,t,r)=>{let n=300*r,i=e.trim().split(" "),a=[],o="";for(let e of i)if(e.includes(`
`)){let i=e.split(`
`),f=i[0],s=i.at(-1)||"",u=`${o} ${f}`.trim(),{width:l}=R(u,t),c=l>n;for(let e of(a.push(...c?[o]:[u]),i.slice(+!c,-1)))a.push(...A(e,t,r));let _=A(s,t,r);_.length>1?(a.push(..._.slice(0,-1)),o=_.at(-1)||""):o=s}else{let i=`${o} ${e}`.trim(),{width:f}=R(i,t);if(f>n){a.push(o);let n=A(e,t,r);n.length>1?(a.push(...n.slice(0,-1)),o=n.at(-1)||""):o=e}else o=i}return a.push(o),a})(o,b,_);if(r)throw Error("wut in tarnation happen....it dun got broke");let h=g.map(e=>R(e,b)),w=10*_,m=2*w,{canvasWidth:x,lineHeight:I}=h.reduce((e,t)=>({canvasWidth:Math.max(e.canvasWidth,t.width),lineHeight:Math.max(e.lineHeight,t.height)}),{canvasWidth:0,lineHeight:0}),k=g.length*I,F=document.createElement("canvas");F.height=k,F.width=x+m;let P=F.getContext("2d"),M=l===S.left,E=l===S.center,B=l===S.right,C=F.width/2;P.textBaseline="ideographic",g.forEach((e,t)=>{let r=h[t].width+m,n=0,i=w;M&&(P.textAlign="left",n=0,i=w),E&&(P.textAlign="center",n=C-r/2,i=C),B&&(P.textAlign="right",n=F.width-r,i=F.width-w),u&&(P.fillStyle=u,P.fillRect(n,I*t,r,I)),P.fillStyle=s,P.font=b,P.fillText(e,i,I*(t+1))});let{id:D,settings:{offset:T,alpha:O,rotation:z,is_hidden:L,keyframe_id:V,effects:j}={}}=e,{x:q,y:$}=y(t,T??{x:0,y:0},c),N=await createImageBitmap(F);return{alpha:Math.sqrt(O??1),offsetX:q,offsetY:$,keyFrameId:V??void 0,image:await p(N),height:N.height/_,width:N.width/_,rotation:z?{x:z.x,y:z.y,z:-z.z}:{x:0,y:0,z:0},scale:_,isHidden:!!L,effects:j,shuffleItemId:D}};class B extends Error{constructor(e,t){super(t.message),this.name=e,this.stack=t.stack,this.cause=t.cause}}class C extends B{constructor(e){super("ImgFetchError",e)}}class D extends B{constructor(e){super("InitError",e)}}async function T(e,t){let r=Date.now();try{let r=await fetch(e,{method:"GET",headers:{Accept:"image/*"}});if(!r.ok)throw Error(`HTTP error! Status: ${r.status}`);return"blob"===t?await r.blob():await r.arrayBuffer()}catch(n){if(n instanceof Error){if("HTTP error! Status: 403"===n.message)return null;let i=new C(n);throw i.cause={url:e,responseType:t,duration:Date.now()-r,networkOnLine:navigator.onLine},i}}}let O=()=>"u">typeof window&&"scheduler"in window&&"yield"in window.scheduler?window.scheduler.yield():new Promise(e=>{setTimeout(e,0)}),z={},L=async e=>{let t=async e=>{let t=await T(e,"blob");return await O(),t?await createImageBitmap(t,{premultiplyAlpha:e.includes(".png")?"default":"none",colorSpaceConversion:"none"}):null};for(let r of e)if(r.images){let e=r.images["750x-heic"]?r.images.originals.url:r.images["750x"].url;e in z||(z[e]=t(e))}return Promise.all(e.map(async e=>{if(!e.images)return{...e,imageBitmap:null};let t=e.images["750x-heic"]?e.images.originals.url:e.images["750x"].url,r=await z[t];return{...e,imageBitmap:r}}))},V=async({shuffle:e,canvasDimensions:t,itBreak:r})=>{let n=(await L(e.items??[])).map(e=>e.item_type===I.TEXT?E(e,t,r):e.item_type===I.IMAGE||e.item_type===I.PIN?x(e,t):null);return(await Promise.all(n)).flatMap(e=>e?[e]:[])},j={width:void 0,height:void 0};function q(e,t,r){return e[t]?Array.isArray(e[t])?e[t][0][r]:e[t][r]:"contentBoxSize"===t?e.contentRect["inlineSize"===r?"width":"height"]:void 0}var $=Object.defineProperty,N=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?$(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class W{constructor(e,t,r,n){if(N(this,"r"),N(this,"g"),N(this,"b"),N(this,"a"),e<0||e>255)throw Error("r must be a UInt8 value");this.r=e,this.g=t,this.b=r,this.a=n}static fromHex(e){if(!e.startsWith("#"))throw Error("hex color must start with #");if(7!=e.length&&9!=e.length)throw Error("hex color must contain 6 or 8 digits or a-f letters");for(let t=1;t<e.length;t++)if(!"0123456789abcdef".includes(e[t].toLowerCase()))throw Error("hex color can only contain digits and a-f letters");let t=parseInt(e.substring(1),16);return 9==e.length?new W(t>>24&255,t>>16&255,t>>8&255,255&t):new W(t>>16&255,t>>8&255,255&t,255)}toHex(){return"#"+(this.r<<24|this.g<<16|this.b<<8|this.a).toString(16)}static fromUint8Array(e){if(4!=e.length)throw Error("arr must have length 4");return new W(e[0],e[1],e[2],e[3])}toUint8Array(){return new Uint8Array([this.r,this.g,this.b,this.a])}}let U=class e{constructor(e){N(this,"turns",0),this.turns=e}get degrees(){return 360*this.turns}set degrees(e){this.turns=360*e}get radians(){return 2*this.turns*Math.PI}set radians(e){this.turns=2*e*Math.PI}add(t){return new e(this.turns+t.turns)}sub(t){return new e(this.turns-t.turns)}multiply(t){return new e(this.turns*t)}divide(t){return new e(this.turns/t)}};N(U,"zero",()=>new U(0)),N(U,"fromTurns",e=>new U(e)),N(U,"fromDegrees",e=>new U(e/360)),N(U,"fromRadians",e=>new U(e/(2*Math.PI)));let Q=U,H=e=>Number.parseFloat(e.toFixed(2)),G=e=>Math.min(255,Math.max(0,Math.round(255*e))),X=new Map([["intensity",[0,1]],["exposure",[-.3,.3]],["contrast",[0,2]],["shadows",[-1,1]],["highlights",[0,1]],["vibrance",[-1,1]],["saturation",[0,2]],["temperature",[-1,1]],["tint",[-1,1]],["opacity",[0,1]],["hue",[-Math.PI,Math.PI]]]),Y=(e,t)=>{let r=X.get(e);if(!r)throw Error(`Bounds not found for setting: ${e}`);let[n,i]=r;return Math.min(Math.max(t,n),i)},Z=(e,t)=>{"speed"in t&&"number"==typeof t.speed&&e.updateFloat("speed",H(t.speed))},J=(e,t)=>{var r,n,i,a,o,f,s,u;"shuffleeffectmotionwobbly"===t.type&&(Z(e,t),"angle"in t&&"number"==typeof t.angle&&e.updateFloat("angle",Math.round(2*t.angle*180/Math.PI)),"center"in t&&(null==(r=t.center)?void 0:r.x)!==void 0&&(null==(n=t.center)?void 0:n.y)!==void 0&&e.updatePoint("pivot",{x:H(t.center.x),y:H(t.center.y)})),"shuffleeffectmotionwatery"===t.type&&Z(e,t),"shuffleeffectmotionfloaty"===t.type&&Z(e,t),"shuffleeffectmotionspinny"===t.type&&Z(e,t),"shuffleeffectmotionshaky"===t.type&&Z(e,t),"shuffleeffectmotionslide"===t.type&&(Z(e,t),"direction"in t&&"number"==typeof t.direction&&e.updateBool("horizontal",t.direction===P.horizontal)),"shuffleeffectmotionscaly"===t.type&&Z(e,t),"shuffleeffectmotionswivel"===t.type&&Z(e,t),"shuffleeffectmotionrotate"===t.type&&(Z(e,t),"direction"in t&&"number"==typeof t.direction&&e.updateBool("clockwise",t.direction===M.clockwise)),"shuffleeffectmotionecho"===t.type&&(Z(e,t),"time_direction"in t&&e.updateBool("inverted",t.time_direction===F.backward),"center"in t&&(null==(i=t.center)?void 0:i.x)!==void 0&&(null==(a=t.center)?void 0:a.y)!==void 0&&e.updatePoint("center",{x:H(t.center.x),y:H(t.center.y)}),"warp"in t&&"number"==typeof t.warp&&e.updateBool("radial",t.warp===k.radial),"intensity"in t&&"number"==typeof t.intensity&&e.updateFloat("strength",H(t.intensity))),"shuffleeffectmotionglitch"===t.type&&(Z(e,t),"animate_color"in t&&e.updateBool("animateColor",!!t.animate_color),"intensity"in t&&"number"==typeof t.intensity&&e.updateFloat("intensity",H(t.intensity)),"fragment"in t&&"number"==typeof t.fragment&&e.updateFloat("lineWidth",H(t.fragment)),"aberration_radial"in t&&"number"==typeof t.aberration_radial&&e.updateFloat("colorDistortion",H(.5-t.aberration_radial)),"melt"in t&&"number"==typeof t.melt&&e.updateFloat("melt",H(t.melt))),"shuffleeffectmotioncarousel"===t.type&&(Z(e,t),"direction"in t&&"object"==typeof t.direction&&"number"==typeof(null==(o=t.direction)?void 0:o.x)&&"number"==typeof(null==(f=t.direction)?void 0:f.y)&&e.updatePoint("direction",{x:2*t.direction.x-1,y:2*t.direction.y-1}),"mirror"in t&&e.updateBool("mirror",!!t.mirror),"scale"in t&&"number"==typeof t.scale&&e.updateFloat("scale",t.scale),"spacing"in t&&"object"==typeof t.spacing&&"number"==typeof(null==(s=t.spacing)?void 0:s.x)&&"number"==typeof(null==(u=t.spacing)?void 0:u.y)&&(e.updateFloat("hSpacing",2*t.spacing.x),e.updateFloat("vSpacing",2*t.spacing.y)))},K=(e,t)=>{if("shuffleeffectmotionfade"===t.type&&Z(e,t),"shuffleeffectfilterfadegradient"===t.type){let r=t.start_point,n=t.end_point;r&&n&&e.updateLine("direction",{start:{x:H(r.x),y:H(r.y)},end:{x:H(n.x),y:H(n.y)}})}"intensity"in t&&"number"==typeof t.intensity&&e.updateFloat("strength",H(Y("intensity",t.intensity)));let{additional_adjustments:r}=t;if(r){let{exposure:t,contrast:n,saturation:i,hue:a,temperature:o,shadows:f,tint:s,highlights:u}=r;t&&e.updateFloat("exposure",H(Y("exposure",t/10))),n&&e.updateFloat("contrast",H(Y("contrast",n+1))),i&&e.updateFloat("saturation",H(Y("saturation",i+1))),u&&e.updateFloat("highlights",H(Y("highlights",u+1))),f&&e.updateFloat("shadows",H(Y("shadows",f))),o&&e.updateFloat("temperature",H(Y("temperature",o))),s&&e.updateFloat("tint",H(Y("tint",s))),a&&e.updateFloat("hue",H(Y("hue",a)))}},ee=(e,t)=>{if("shuffleeffectframeborder"===t.type&&(t.width&&e.updateFloat("radius",(e=>{let[t,r]=[.2,6],[n,i]=[.01,.3];return(e-t)/(r-t)*(i-n)+n})(t.width)),t.color)){let{r:r,g:n,b:i,a}=t.color;e.updateColor("color",new W(G(r||255),G(n||255),G(i||255),G(a||1)))}"shuffleeffectframeshadow"===t.type&&(t.alpha&&e.updateFloat("opacity",t.alpha),t.center&&e.updatePoint("direction",{x:t.center.x-.5,y:t.center.y-.5}),t.width&&e.updateFloat("radius",t.width))},et={shuffleeffectmotionfade:{target:"fade",kind:"color-effect"},shuffleeffectmotionwobbly:{target:"wobbly",kind:"distortion-effect"},shuffleeffectmotionwatery:{target:"watery",kind:"distortion-effect"},shuffleeffectmotionfloaty:{target:"floaty",kind:"distortion-effect"},shuffleeffectmotionspinny:{target:"lavaLamp",kind:"distortion-effect"},shuffleeffectmotionshaky:{target:"shaky",kind:"distortion-effect"},shuffleeffectmotionscaly:{target:"pulse",kind:"distortion-effect"},shuffleeffectmotionswivel:{target:"swivel",kind:"distortion-effect"},shuffleeffectmotionslide:{target:"slide",kind:"distortion-effect"},shuffleeffectmotionrotate:{target:"rotation",kind:"distortion-effect"},shuffleeffectmotionecho:{target:"echo",kind:"kernel-effect"},shuffleeffectmotioncarousel:{target:"carousel",kind:"kernel-effect"},shuffleeffectmotionglitch:{target:"glitch",kind:"kernel-effect"},shuffleeffectfilterinvert:{target:"invert",kind:"color-effect"},shuffleeffectfilterchrome:{target:"chrome",kind:"color-effect"},shuffleeffectfilterfade:{target:"washed",kind:"color-effect"},shuffleeffectfilterinstant:{target:"instant",kind:"color-effect"},shuffleeffectfiltermono:{target:"mono",kind:"color-effect"},shuffleeffectfilternoir:{target:"noir",kind:"color-effect"},shuffleeffectfilterprocess:{target:"process",kind:"color-effect"},shuffleeffectfiltertonal:{target:"tonal",kind:"color-effect"},shuffleeffectfiltertransfer:{target:"transfer",kind:"color-effect"},shuffleeffectfiltertone:{target:"tone",kind:"color-effect"},shuffleeffectfilterlinear:{target:"linear",kind:"color-effect"},shuffleeffectfiltersepia:{target:"sepia",kind:"color-effect"},shuffleeffectfilterfadegradient:{target:"alphaGradient",kind:"color-effect"},shuffleeffectfilteralphashadows:{target:"transparentShadows",kind:"color-effect"},shuffleeffectfilteralphahighlights:{target:"transparentHighlights",kind:"color-effect"},shuffleeffectframeborder:{target:"border",kind:"border-effect"},shuffleeffectframeshadow:{target:"shadow",kind:"border-effect"},shuffleeffectframefilm:{target:"film",kind:"border-effect"},shuffleeffectframetape:{target:"tape",kind:"border-effect"},shuffleeffectframerippedpaper:{target:"tornPaper",kind:"border-effect"},shuffleeffectframestamp:{target:"stamp",kind:"border-effect"}},er=(e=0)=>Q.fromRadians(e).multiply(2).turns,en=e=>{let{x:t,y:r}=e,n=r===Math.PI,i=t===Math.PI;return n&&i?c.BW.both():i?c.BW.vertical():n?c.BW.horizontal():0!==t||0!==r?new c.BW(er(r),-er(t)):c.BW.none()},ei=async(e,t,r,n,i="disabled")=>{let a=new c.Th(e,e.width,e.height,(e=>{switch(e){case"trace":return c.in.Trace;case"debug":return c.in.Debug;case"info":return c.in.Info;case"warn":return c.in.Warn;case"error":return c.in.Error;default:return c.in.Disabled}})(i));for(let e of(await O(),a.setBgColor(W.fromHex(r||"#E5E5E5")),t)){let t=e.effects,r=a.addSceneItem(e.image,e.keyFrameId,e.shuffleItemId).setPos(e.offsetX,e.offsetY,0).setSize(e.width,e.height).setScale(e.scale).setRotation(Q.fromRadians(e.rotation.z)).setFlip(en(e.rotation));await O(),e.isHidden?r.setOpacity(0):r.setOpacity(e.alpha??1),t&&t.forEach(e=>{if(e.type&&e.type in et){let{target:t,kind:n}=et[e.type];"color-effect"===n&&r.upsertColorEffectByName(t,t=>{K(t,e)}),"distortion-effect"===n&&r.upsertDistortionEffectByName(t,t=>{J(t,e)}),"kernel-effect"===n&&r.setKernelEffectByName(t,t=>{J(t,e)}),"border-effect"===n&&r.upsertFilterByName(t,t=>{ee(t,e)})}})}return{renderer:a}},ea=typeof window>"u"?null:function(e){var t;let r=`; ${document.cookie}`.split(`; ${e}=`);if(2===r.length){let e=null==(t=r.pop())?void 0:t.split(";").shift();if(void 0!==e)return e}return null}("renderer-debug"),eo=({shuffle:e,width:t,naturalImageHeight:n,naturalImageWidth:i,children:a,rounded:o=!1,isThumbnail:f,onClickSticker:s,onCompleteRender:b,onRenderError:g,onRenderer:h,itBreak:w,logLevel:m})=>{var p;let[y,x]=(0,_.useState)(!1),[v,S]=(0,_.useState)(null),k="string"==typeof ea&&["trace","debug","info","warn","error","disabled"].includes(ea)?ea:m,F="debug"===k||"trace"===k,P=(0,_.useRef)(null),M=(0,_.useRef)(!1),R=(0,_.useRef)(null),A=(0,_.useRef)(null),E=(0,_.useRef)(null),B=(0,_.useRef)(null),T=(0,_.useRef)(null),z=(0,_.useRef)(null),L=(0,_.useRef)({controller:null,updateHighlighterBackground:null}),$={width:(p=function(e){let{ref:t,box:r="content-box"}=e,[{width:n,height:i},a]=(0,_.useState)(j),o=function(){let e=(0,_.useRef)(!1);return(0,_.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,_.useCallback)(()=>e.current,[])}(),f=(0,_.useRef)({...j}),s=(0,_.useRef)(void 0);return s.current=e.onResize,(0,_.useEffect)(()=>{if(!t.current||typeof window>"u"||!("ResizeObserver"in window))return;let e=new ResizeObserver(([e])=>{let t="border-box"===r?"borderBoxSize":"device-pixel-content-box"===r?"devicePixelContentBoxSize":"contentBoxSize",n=q(e,t,"inlineSize"),i=q(e,t,"blockSize");if(f.current.width!==n||f.current.height!==i){let e={width:n,height:i};f.current.width=n,f.current.height=i,s.current?s.current(e):o()&&a(e)}});return e.observe(t.current,{box:r}),()=>{e.disconnect()}},[r,t,o]),(0,_.useMemo)(()=>({width:n,height:i}),[n,i])}({ref:B}).height??0)*(i/n),height:p},N=!(typeof navigator>"u")&&/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent),W=(0,_.useCallback)((e=!0)=>{let t=0,r=n=>{var i;R.current=requestAnimationFrame(r);let a=n-t>=200&&e;a&&(t=n),null==(i=E.current)||i.render({updateHitTesting:a})};R.current=requestAnimationFrame(r)},[]),U=()=>{R.current&&(cancelAnimationFrame(R.current),R.current=null)};(0,_.useEffect)(function(){let t=async()=>{var t,a;if(await O(),!P.current||!e||!e.items)return;let o=P.current,s=i/n,u=2048,_=2048*s;s>1&&(_=2048,u=2048/s),o.width=_,o.height=u;let d={height:o.height,width:o.width};M.current=!0;try{await (0,c.l3)()}catch(e){if(e instanceof Error)throw new D(e)}c.m6.init(),c.m6.registerPanicCallback(e=>{null==g||g({error:e,logAsFailure:!1})}),await O();let m=await V({shuffle:e,canvasDimensions:d,itBreak:w});if(m.every(e=>null===e.image))return;let{renderer:p}=await ei(o,m,null==(t=e.effect_data)?void 0:t.backgroundColor,null==e?void 0:e.source_app_type_detailed,k);if(h&&h(p),p.render({updateHitTesting:!0}),E.current=p,x(!0),b&&b(o),f)return;let y=m.some(e=>{var t;return null==(t=e.effects)?void 0:t.some(e=>e.type&&e.type.includes("shuffleeffectmotion"))}),v=null==(a=e.effect_data)?void 0:a.keyframeAnimation,I=!!(y||v);I&&W();let S=e=>{p.setHighlightedEffectSettings(t=>{t.updateFloat("bgShadow",e)})};if(S(0),L.current={updateHighlighterBackground:S,controller:new l.Qr({opacity:0,config:{easing:l.Z5.easeOutCubic,duration:300}})},v&&(A.current=(await r.e("93702").then(r.bind(r,740014))).doKeyframes(v,p,d,e.items)),!I){W(!1);let e=p.mapSceneItems(e=>new Promise(t=>{new l.Qr({from:{scale:e.scale},to:[{scale:.9*e.scale},{scale:e.scale}],config:{duration:300,easing:l.Z5.easeInOutCubic},onChange(t){"number"==typeof t&&e.setScale(t)},onResolve(){t()}})}));await Promise.all(e),U()}};null!=e&&e.items&&!M.current&&(M.current=!0,t().catch(e=>{var t;throw null==(t=E.current)||t.destroy(),null==g||g({error:e,logAsFailure:!(e instanceof D||e instanceof C)}),F&&console.error("Shuffle Web Renderer:",e),e}))},[k,F,f,w,n,i,b,g,h,e,W,t]),(0,_.useEffect)(function(){return()=>{U(),A.current&&A.current(),requestAnimationFrame(()=>{E.current&&(F&&console.log("Shuffle Web Renderer: destroy called from cleanup"),E.current.destroy(),E.current=null)})}},[F]);let Q=(0,_.useCallback)(t=>{var r,n,i;let a=P.current,o=E.current;if(!a||!o)return null;let f=a.getBoundingClientRect(),s=a.width/f.width,u=a.height/f.height,l=(t.x-f.left)*s,c=(t.y-f.top)*u,_=o.itemAt(l,c),d=_?(null==(r=null==e?void 0:e.items)?void 0:r.find(e=>e.id===_.shuffleItemId))??null:null;return null!=(i=null==(n=null==d?void 0:d.template_config)?void 0:n.labels)&&i.includes("not_template")?{sceneItem:null,shuffleItem:null}:{sceneItem:_,shuffleItem:d}},[null==e?void 0:e.items]),H=(0,_.useCallback)(e=>{let{updateHighlighterBackground:t,controller:r}=L.current;null==r||r.start({opacity:.5*("in"===e),onChange(e){var r;"number"==typeof e.value.opacity&&(null==t||t(e.value.opacity),R.current||null==(r=E.current)||r.render())}})},[]),G=(0,_.useCallback)(e=>{let t=Q({x:e.clientX,y:e.clientY});null!=t&&t.shuffleItem&&(null==s||s(t.shuffleItem))},[Q,s]),X=(0,_.useCallback)(e=>{var t,r;let n=E.current;if(!n)return;let i=Q({x:e.clientX,y:e.clientY});i&&(null==(t=i.sceneItem)?void 0:t.shuffleItemId)!==(null==v?void 0:v.shuffleItemId)&&(z.current&&(clearTimeout(z.current),z.current=null),S(i.sceneItem),(null==(r=i.shuffleItem)?void 0:r.item_type)!=I.TEXT&&(i.sceneItem?z.current=setTimeout(()=>{var e;n.setFocusedItem(i.sceneItem),H("in"),R.current||null==(e=E.current)||e.render()},null!=v&&v.shuffleItemId&&i.sceneItem.shuffleItemId!=v.shuffleItemId?0:300):H("out")))},[Q,null==v?void 0:v.shuffleItemId,H]),Y=(0,_.useCallback)(()=>{let e=T.current;H("out"),e&&Z(e.sceneItem,e.scale,"up"),v&&S(null),z.current&&clearTimeout(z.current)},[H,v]),Z=(e,t,r)=>{new l.Qr({from:{scale:e.scale},to:{scale:"down"===r?.9*t:t},config:{easing:l.Z5.easeOutCubic,duration:150},onChange(t){var r;t.value&&(e.setScale(t.value.scale),R.current||null==(r=E.current)||r.render())}})},J=(0,_.useCallback)(e=>{var t,r;let n=e instanceof MouseEvent?{x:e.clientX,y:e.clientY}:{x:e.touches[0].clientX,y:e.touches[0].clientY};if(!E.current)return;let i=Q(n);if(null!=i&&i.sceneItem&&i.shuffleItem){let{shuffleItem:e,sceneItem:n}=i,a=((null==(t=P.current)?void 0:t.width)??0)/d,o=((null==(r=e.settings)?void 0:r.scale)??1)*a;T.current={scale:o,sceneItem:n},Z(n,o,"down")}},[Q]),K=(0,_.useCallback)(()=>{if(!T.current)return;let{sceneItem:e,scale:t}=T.current;Z(e,t,"up")},[]);return(0,_.useEffect)(function(){let e=P.current;return null==e||e.addEventListener("click",G),N?(null==e||e.addEventListener("touchstart",J),null==e||e.addEventListener("touchend",K)):(null==e||e.addEventListener("mousedown",J),null==e||e.addEventListener("mouseup",K),null==e||e.addEventListener("mousemove",X),null==e||e.addEventListener("mouseleave",Y)),()=>{null==e||e.removeEventListener("click",G),N?(null==e||e.removeEventListener("touchstart",J),null==e||e.removeEventListener("touchend",K)):(null==e||e.removeEventListener("mousedown",J),null==e||e.removeEventListener("mouseup",K),null==e||e.removeEventListener("mousemove",X),null==e||e.removeEventListener("mouseleave",Y))}},[G,X,J,Y,K,N]),(0,u.jsxs)("div",{ref:B,style:{display:"flex",justifyContent:"center",height:"100%",width:"100%"},children:[a,(0,u.jsx)("canvas",{"data-test-id":"shuffle-renderer-canvas",style:{height:$.height,width:$.width,borderRadius:o?"10%/5%":0,position:"absolute",cursor:null===v?"auto":"pointer",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:+!!y},ref:P})]})}},199822:function(e,t,r){r.d(t,{lx:()=>n.a,s7:()=>n.S});var n=r(602248);r(785893),r(287054),r(499238),r(667294)},499238:function(e,t,r){let n;r.d(t,{l3:()=>j,m6:()=>R,Th:()=>ef,in:()=>k,BW:()=>er});let i="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&i.decode();let a=null;function o(){return(null===a||0===a.byteLength)&&(a=new Uint8Array(n.memory.buffer)),a}function f(e,t){return e>>>=0,i.decode(o().subarray(e,e+t))}function s(e){let t=n.__externref_table_alloc();return n.__wbindgen_export_2.set(t,e),t}function u(e,t){try{return e.apply(this,t)}catch(t){let e=s(t);n.__wbindgen_exn_store(e)}}let l=null;function c(e,t){return e>>>=0,((null===l||0===l.byteLength)&&(l=new Float32Array(n.memory.buffer)),l).subarray(e/4,e/4+t)}let _=null;function d(e,t){return e>>>=0,((null===_||0===_.byteLength)&&(_=new Int32Array(n.memory.buffer)),_).subarray(e/4,e/4+t)}let b=null;function g(e,t){return e>>>=0,((null===b||0===b.byteLength)&&(b=new Uint32Array(n.memory.buffer)),b).subarray(e/4,e/4+t)}function h(e){return null==e}let w=0,m="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},p="function"==typeof m.encodeInto?function(e,t){return m.encodeInto(e,t)}:function(e,t){let r=m.encode(e);return t.set(r),{read:e.length,written:r.length}};function y(e,t,r){if(void 0===r){let r=m.encode(e),n=t(r.length,1)>>>0;return o().subarray(n,n+r.length).set(r),w=r.length,n}let n=e.length,i=t(n,1)>>>0,a=o(),f=0;for(;f<n;f++){let t=e.charCodeAt(f);if(t>127)break;a[i+f]=t}if(f!==n){0!==f&&(e=e.slice(f)),i=r(i,n,n=f+3*e.length,1)>>>0;let t=p(e,o().subarray(i+f,i+n));f+=t.written,i=r(i,n,f,1)>>>0}return w=f,i}let x=null;function v(){return(null===x||!0===x.buffer.detached||void 0===x.buffer.detached&&x.buffer!==n.memory.buffer)&&(x=new DataView(n.memory.buffer)),x}function I(e,t){if(!(e instanceof t))throw Error(`expected instance of ${t.name}`)}function S(e){let t=n.__wbindgen_export_2.get(e);return n.__externref_table_dealloc(e),t}Object.freeze({Cs420:0,0:"Cs420",Cs422:1,1:"Cs422",Cs444:2,2:"Cs444",Cs400:3,3:"Cs400"}),Object.freeze({Linear:0,0:"Linear",Smooth:1,1:"Smooth",Spring:2,2:"Spring",Bounce:3,3:"Bounce"});let k=Object.freeze({Trace:0,0:"Trace",Debug:1,1:"Debug",Info:2,2:"Info",Warn:3,3:"Warn",Error:4,4:"Error",Disabled:5,5:"Disabled"});Object.freeze({Normal:0,0:"Normal",SoftRestart:1,1:"SoftRestart",AutoReverse:2,2:"AutoReverse"});let F="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_effectsettingsproxy_free(e>>>0,1));class P{static __wrap(e){e>>>=0;let t=Object.create(P.prototype);return t.__wbg_ptr=e,F.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,F.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_effectsettingsproxy_free(e,0)}set_float(e,t){let r=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=w,a=n.effectsettingsproxy_set_float(this.__wbg_ptr,r,i,t);if(a[1])throw S(a[0])}set_int(e,t){let r=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=w,a=n.effectsettingsproxy_set_int(this.__wbg_ptr,r,i,t);if(a[1])throw S(a[0])}set_bool(e,t){let r=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=w,a=n.effectsettingsproxy_set_bool(this.__wbg_ptr,r,i,t);if(a[1])throw S(a[0])}set_point(e,t,r){let i=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=w,o=n.effectsettingsproxy_set_point(this.__wbg_ptr,i,a,t,r);if(o[1])throw S(o[0])}set_color(e,t){let r=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=w,a=n.effectsettingsproxy_set_color(this.__wbg_ptr,r,i,t);if(a[1])throw S(a[0])}set_range_inclusive(e,t,r){let i=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=w,o=n.effectsettingsproxy_set_range_inclusive(this.__wbg_ptr,i,a,t,r);if(o[1])throw S(o[0])}set_line(e,t,r,i,a){let o=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),f=w,s=n.effectsettingsproxy_set_line(this.__wbg_ptr,o,f,t,r,i,a);if(s[1])throw S(s[0])}}let M="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_errorreporter_free(e>>>0,1));class R{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,M.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_errorreporter_free(e,0)}static init(){n.errorreporter_init()}static registerPanicCallback(e){n.errorreporter_registerPanicCallback(e)}}let A="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_keyframev1builderproxyref_free(e>>>0,1));class E{static __wrap(e){e>>>=0;let t=Object.create(E.prototype);return t.__wbg_ptr=e,A.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,A.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_keyframev1builderproxyref_free(e,0)}first_frame(){let e=n.keyframev1builderproxyref_first_frame(this.__wbg_ptr);return T.__wrap(e)}add_transition(e,t,r){I(r,T),n.keyframev1builderproxyref_add_transition(this.__wbg_ptr,e,t,r.__wbg_ptr)}build(){n.keyframev1builderproxyref_build(this.__wbg_ptr)}}"undefined"==typeof FinalizationRegistry||new FinalizationRegistry(e=>n.__wbg_owningfilter_free(e>>>0,1));let B="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_rendererproxy_free(e>>>0,1));class C{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,B.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_rendererproxy_free(e,0)}constructor(e,t,r){let i=n.rendererproxy_new(e,t,r);if(i[2])throw S(i[1]);return this.__wbg_ptr=i[0]>>>0,B.register(this,this.__wbg_ptr,this),this}set_size(e,t){n.rendererproxy_set_size(this.__wbg_ptr,e,t)}width(){return n.rendererproxy_width(this.__wbg_ptr)>>>0}set_width(e){n.rendererproxy_set_width(this.__wbg_ptr,e)}height(){return n.rendererproxy_height(this.__wbg_ptr)>>>0}set_height(e){n.rendererproxy_set_height(this.__wbg_ptr,e)}add_scene_item(e){let t=n.rendererproxy_add_scene_item(this.__wbg_ptr,e);if(t[2])throw S(t[1]);return t[0]}scene_item_mut_by_id(e){let t=n.rendererproxy_scene_item_mut_by_id(this.__wbg_ptr,e);return 0===t?void 0:z.__wrap(t)}remove_scene_item_by_id(e){n.rendererproxy_remove_scene_item_by_id(this.__wbg_ptr,e)}clear_items(){n.rendererproxy_clear_items(this.__wbg_ptr)}change_item_index(e,t){n.rendererproxy_change_item_index(this.__wbg_ptr,e,t)}scene_item_at(e,t){let r=n.rendererproxy_scene_item_at(this.__wbg_ptr,e,t);return 0x100000001===r?void 0:r}bg_color(){return n.rendererproxy_bg_color(this.__wbg_ptr)}set_bg_color(e){n.rendererproxy_set_bg_color(this.__wbg_ptr,e)}set_focused_item(e){n.rendererproxy_set_focused_item(this.__wbg_ptr,h(e)?0x100000001:0|e)}highlighted_effect_settings(){let e=n.rendererproxy_highlighted_effect_settings(this.__wbg_ptr);return 0===e?void 0:P.__wrap(e)}remove_item(e){n.rendererproxy_remove_item(this.__wbg_ptr,e)}tick(e){let t=n.rendererproxy_tick(this.__wbg_ptr,e);if(t[1])throw S(t[0])}panic(){let e=this.__destroy_into_raw();n.rendererproxy_panic(e)}}let D="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_sceneitemframeproxy_free(e>>>0,1));class T{static __wrap(e){e>>>=0;let t=Object.create(T.prototype);return t.__wbg_ptr=e,D.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,D.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_sceneitemframeproxy_free(e,0)}static new(){let e=n.sceneitemframeproxy_new();return T.__wrap(e)}setStickerOpacity(e){n.sceneitemframeproxy_setStickerOpacity(this.__wbg_ptr,h(e)?0x100000001:Math.fround(e))}setLayoutCenter(e,t){n.sceneitemframeproxy_setLayoutCenter(this.__wbg_ptr,h(e)?0x100000001:Math.fround(e),h(t)?0x100000001:Math.fround(t))}setLayoutRotation(e){n.sceneitemframeproxy_setLayoutRotation(this.__wbg_ptr,h(e)?0x100000001:Math.fround(e))}setLayoutScale(e){n.sceneitemframeproxy_setLayoutScale(this.__wbg_ptr,h(e)?0x100000001:Math.fround(e))}setLayoutFlip(e,t){n.sceneitemframeproxy_setLayoutFlip(this.__wbg_ptr,h(e)?0x100000001:Math.fround(e),h(t)?0x100000001:Math.fround(t))}}let O="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_sceneitemproxyref_free(e>>>0,1));class z{static __wrap(e){e>>>=0;let t=Object.create(z.prototype);return t.__wbg_ptr=e,O.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,O.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_sceneitemproxyref_free(e,0)}setPos(e,t,r){n.sceneitemproxyref_setPos(this.__wbg_ptr,e,t,r)}pos(){return n.sceneitemproxyref_pos(this.__wbg_ptr)}setSize(e,t){n.sceneitemproxyref_setSize(this.__wbg_ptr,e,t)}size(){return n.sceneitemproxyref_size(this.__wbg_ptr)}set_opacity(e){n.sceneitemproxyref_set_opacity(this.__wbg_ptr,e)}set_rotation_turns(e){n.sceneitemproxyref_set_rotation_turns(this.__wbg_ptr,e)}scale(){return n.sceneitemproxyref_scale(this.__wbg_ptr)}setScale(e){n.sceneitemproxyref_setScale(this.__wbg_ptr,e)}setFlip(e,t){n.sceneitemproxyref_setFlip(this.__wbg_ptr,e,t)}upsert_distortion_effect_by_name(e){let t=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,i=n.sceneitemproxyref_upsert_distortion_effect_by_name(this.__wbg_ptr,t,r);return 0===i?void 0:P.__wrap(i)}clear_distortion_effects(){n.sceneitemproxyref_clear_distortion_effects(this.__wbg_ptr)}upsert_color_effect_by_name(e){let t=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,i=n.sceneitemproxyref_upsert_color_effect_by_name(this.__wbg_ptr,t,r);return 0===i?void 0:P.__wrap(i)}clear_color_effects(){n.sceneitemproxyref_clear_color_effects(this.__wbg_ptr)}set_kernel_effect_by_name(e){let t=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,i=n.sceneitemproxyref_set_kernel_effect_by_name(this.__wbg_ptr,t,r);return 0===i?void 0:P.__wrap(i)}unset_kernel_effect(){n.sceneitemproxyref_unset_kernel_effect(this.__wbg_ptr)}upsert_filter_by_name(e){let t=y(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,i=n.sceneitemproxyref_upsert_filter_by_name(this.__wbg_ptr,t,r);return 0===i?void 0:P.__wrap(i)}clear_filters(){n.sceneitemproxyref_clear_filters(this.__wbg_ptr)}reset_key_frames(e,t){I(e,C);let r=n.sceneitemproxyref_reset_key_frames(this.__wbg_ptr,e.__wbg_ptr,t);return E.__wrap(r)}}async function L(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn(`\`WebAssembly.instantiateStreaming\` failed because your server does not serve Wasm with \`application/wasm\` MIME type. Falling back to \`WebAssembly.instantiate\` which is slower. Original error:
`,t);else throw t}let r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{let r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}async function V(e){if(void 0!==n)return n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(r(704103),r.b));let t=function(){let e={};return e.wbg={},e.wbg.__wbg_a_13a31bf3f167395a=function(e){return e.a},e.wbg.__wbg_activeTexture_24b42b03041f3428=function(e,t){e.activeTexture(t>>>0)},e.wbg.__wbg_activeTexture_47928613532be667=function(e,t){e.activeTexture(t>>>0)},e.wbg.__wbg_attachShader_81000b0c4da5b206=function(e,t,r){e.attachShader(t,r)},e.wbg.__wbg_attachShader_ccc35921e866b2bf=function(e,t,r){e.attachShader(t,r)},e.wbg.__wbg_b_4f132266bebf8c4b=function(e){return e.b},e.wbg.__wbg_beginQuery_4e54bbe77706fb3c=function(e,t,r){e.beginQuery(t>>>0,r)},e.wbg.__wbg_bindAttribLocation_a08ae4fdf9b16e7d=function(e,t,r,n,i){e.bindAttribLocation(t,r>>>0,f(n,i))},e.wbg.__wbg_bindAttribLocation_b53db53e1b134420=function(e,t,r,n,i){e.bindAttribLocation(t,r>>>0,f(n,i))},e.wbg.__wbg_bindBufferRange_ce5a2827ed937112=function(e,t,r,n,i,a){e.bindBufferRange(t>>>0,r>>>0,n,i,a)},e.wbg.__wbg_bindBuffer_0fedb16582ffeee6=function(e,t,r){e.bindBuffer(t>>>0,r)},e.wbg.__wbg_bindBuffer_c6e5f29d60e90c01=function(e,t,r){e.bindBuffer(t>>>0,r)},e.wbg.__wbg_bindFramebuffer_87e15614ca3e9537=function(e,t,r){e.bindFramebuffer(t>>>0,r)},e.wbg.__wbg_bindFramebuffer_a0d602bd474dcbfb=function(e,t,r){e.bindFramebuffer(t>>>0,r)},e.wbg.__wbg_bindRenderbuffer_3100396894cc2d72=function(e,t,r){e.bindRenderbuffer(t>>>0,r)},e.wbg.__wbg_bindRenderbuffer_fd3e47dad76906ea=function(e,t,r){e.bindRenderbuffer(t>>>0,r)},e.wbg.__wbg_bindSampler_7614054a94f8e3d1=function(e,t,r){e.bindSampler(t>>>0,r)},e.wbg.__wbg_bindTexture_6478edbb238b9c73=function(e,t,r){e.bindTexture(t>>>0,r)},e.wbg.__wbg_bindTexture_9b177c97248ed4d9=function(e,t,r){e.bindTexture(t>>>0,r)},e.wbg.__wbg_bindVertexArrayOES_e81fca007d08d0db=function(e,t){e.bindVertexArrayOES(t)},e.wbg.__wbg_bindVertexArray_d9082254ff3bcc13=function(e,t){e.bindVertexArray(t)},e.wbg.__wbg_blendColor_075aa544f1fe84c5=function(e,t,r,n,i){e.blendColor(t,r,n,i)},e.wbg.__wbg_blendColor_ed292080d5966f2c=function(e,t,r,n,i){e.blendColor(t,r,n,i)},e.wbg.__wbg_blendEquationSeparate_3dbbe20b0a9fa818=function(e,t,r){e.blendEquationSeparate(t>>>0,r>>>0)},e.wbg.__wbg_blendEquationSeparate_d360393d3b1557cd=function(e,t,r){e.blendEquationSeparate(t>>>0,r>>>0)},e.wbg.__wbg_blendEquation_41f4ed79f5ddd25c=function(e,t){e.blendEquation(t>>>0)},e.wbg.__wbg_blendEquation_8804e10c9ced3fc4=function(e,t){e.blendEquation(t>>>0)},e.wbg.__wbg_blendFuncSeparate_2cc7ac2397290a15=function(e,t,r,n,i){e.blendFuncSeparate(t>>>0,r>>>0,n>>>0,i>>>0)},e.wbg.__wbg_blendFuncSeparate_c6c035b0094bd58f=function(e,t,r,n,i){e.blendFuncSeparate(t>>>0,r>>>0,n>>>0,i>>>0)},e.wbg.__wbg_blendFunc_63aca14ff3252b59=function(e,t,r){e.blendFunc(t>>>0,r>>>0)},e.wbg.__wbg_blendFunc_8e1cfba50a4eea89=function(e,t,r){e.blendFunc(t>>>0,r>>>0)},e.wbg.__wbg_blitFramebuffer_171b9355e4e730c9=function(e,t,r,n,i,a,o,f,s,u,l){e.blitFramebuffer(t,r,n,i,a,o,f,s,u>>>0,l>>>0)},e.wbg.__wbg_bufferData_2a747a2c2c3b23b5=function(e,t,r,n){e.bufferData(t>>>0,r,n>>>0)},e.wbg.__wbg_bufferData_5b85d77150f6520a=function(e,t,r,n){e.bufferData(t>>>0,r,n>>>0)},e.wbg.__wbg_bufferData_b03654fb80052afe=function(e,t,r,n){e.bufferData(t>>>0,r,n>>>0)},e.wbg.__wbg_bufferData_c2eb7dbb2ea2ab3f=function(e,t,r,n){e.bufferData(t>>>0,r,n>>>0)},e.wbg.__wbg_bufferSubData_8a7d35c05111a120=function(e,t,r,n){e.bufferSubData(t>>>0,r,n)},e.wbg.__wbg_bufferSubData_c4b11388b9eb4175=function(e,t,r,n){e.bufferSubData(t>>>0,r,n)},e.wbg.__wbg_buffer_6e1d53ff183194fc=function(e){return e.buffer},e.wbg.__wbg_call_0411c0c3c424db9a=function(){return u(function(e,t,r){return e.call(t,r)},arguments)},e.wbg.__wbg_call_3114932863209ca6=function(){return u(function(e,t){return e.call(t)},arguments)},e.wbg.__wbg_call_df1756d798e5f0c9=function(){return u(function(e,t,r){return e.call(t,r)},arguments)},e.wbg.__wbg_clearBufferfv_2cf04e18ef87ed90=function(e,t,r,n,i){e.clearBufferfv(t>>>0,r,c(n,i))},e.wbg.__wbg_clearBufferiv_b45be02e57957dad=function(e,t,r,n,i){e.clearBufferiv(t>>>0,r,d(n,i))},e.wbg.__wbg_clearBufferuiv_deca83038abb23d2=function(e,t,r,n,i){e.clearBufferuiv(t>>>0,r,g(n,i))},e.wbg.__wbg_clearDepth_14d34daa30215440=function(e,t){e.clearDepth(t)},e.wbg.__wbg_clearDepth_1cdcb08d8a5afa49=function(e,t){e.clearDepth(t)},e.wbg.__wbg_clearStencil_e2c8b1892d5e033d=function(e,t){e.clearStencil(t)},e.wbg.__wbg_clearStencil_f3138d2e338d1436=function(e,t){e.clearStencil(t)},e.wbg.__wbg_clear_4e68091e616c29ad=function(e,t){e.clear(t>>>0)},e.wbg.__wbg_clear_af7641961d766f51=function(e,t){e.clear(t>>>0)},e.wbg.__wbg_clientWaitSync_2c4c0bd3a8d3536b=function(e,t,r,n){return e.clientWaitSync(t,r>>>0,n>>>0)},e.wbg.__wbg_colorMask_22d850d91e89df9f=function(e,t,r,n,i){e.colorMask(0!==t,0!==r,0!==n,0!==i)},e.wbg.__wbg_colorMask_a6068fae89c17ceb=function(e,t,r,n,i){e.colorMask(0!==t,0!==r,0!==n,0!==i)},e.wbg.__wbg_compileShader_5e41ecd397194c21=function(e,t){e.compileShader(t)},e.wbg.__wbg_compileShader_6868fa6a842f0911=function(e,t){e.compileShader(t)},e.wbg.__wbg_compressedTexSubImage2D_216f6eec167da8d7=function(e,t,r,n,i,a,o,f,s){e.compressedTexSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s)},e.wbg.__wbg_compressedTexSubImage2D_4b50d2a94bf4ea60=function(e,t,r,n,i,a,o,f,s,u){e.compressedTexSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s,u)},e.wbg.__wbg_compressedTexSubImage2D_9b0c2c785026006a=function(e,t,r,n,i,a,o,f,s){e.compressedTexSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s)},e.wbg.__wbg_compressedTexSubImage3D_8102ea4403fef5ce=function(e,t,r,n,i,a,o,f,s,u,l){e.compressedTexSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l)},e.wbg.__wbg_compressedTexSubImage3D_bf2bdb940e26bc8c=function(e,t,r,n,i,a,o,f,s,u,l,c){e.compressedTexSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l,c)},e.wbg.__wbg_copyBufferSubData_ff213d67aa3b1f82=function(e,t,r,n,i,a){e.copyBufferSubData(t>>>0,r>>>0,n,i,a)},e.wbg.__wbg_copyTexSubImage2D_4b37e79c31b798b1=function(e,t,r,n,i,a,o,f,s){e.copyTexSubImage2D(t>>>0,r,n,i,a,o,f,s)},e.wbg.__wbg_copyTexSubImage2D_a29106dfb31dd17c=function(e,t,r,n,i,a,o,f,s){e.copyTexSubImage2D(t>>>0,r,n,i,a,o,f,s)},e.wbg.__wbg_copyTexSubImage3D_f8350e268c143688=function(e,t,r,n,i,a,o,f,s,u){e.copyTexSubImage3D(t>>>0,r,n,i,a,o,f,s,u)},e.wbg.__wbg_createBuffer_1e646d14cebbb438=function(e){let t=e.createBuffer();return h(t)?0:s(t)},e.wbg.__wbg_createBuffer_2a696fb8c0d07970=function(e){let t=e.createBuffer();return h(t)?0:s(t)},e.wbg.__wbg_createFramebuffer_163e192e1e53ec9b=function(e){let t=e.createFramebuffer();return h(t)?0:s(t)},e.wbg.__wbg_createFramebuffer_1aa54479f7524ef5=function(e){let t=e.createFramebuffer();return h(t)?0:s(t)},e.wbg.__wbg_createProgram_5a5a92d23fdc2f1a=function(e){let t=e.createProgram();return h(t)?0:s(t)},e.wbg.__wbg_createProgram_b75025f0f1a4ef55=function(e){let t=e.createProgram();return h(t)?0:s(t)},e.wbg.__wbg_createQuery_2816e95a473b5501=function(e){let t=e.createQuery();return h(t)?0:s(t)},e.wbg.__wbg_createRenderbuffer_29e130c03bc689d3=function(e){let t=e.createRenderbuffer();return h(t)?0:s(t)},e.wbg.__wbg_createRenderbuffer_b10004ae18d38014=function(e){let t=e.createRenderbuffer();return h(t)?0:s(t)},e.wbg.__wbg_createSampler_50ae7c4dd1f9b066=function(e){let t=e.createSampler();return h(t)?0:s(t)},e.wbg.__wbg_createShader_29c8e06db7e7211f=function(e,t){let r=e.createShader(t>>>0);return h(r)?0:s(r)},e.wbg.__wbg_createShader_8c3053457f874cdd=function(e,t){let r=e.createShader(t>>>0);return h(r)?0:s(r)},e.wbg.__wbg_createTexture_20f63b261993f581=function(e){let t=e.createTexture();return h(t)?0:s(t)},e.wbg.__wbg_createTexture_facd2df68d8d0276=function(e){let t=e.createTexture();return h(t)?0:s(t)},e.wbg.__wbg_createVertexArrayOES_89f45f4a4fde395f=function(e){let t=e.createVertexArrayOES();return h(t)?0:s(t)},e.wbg.__wbg_createVertexArray_70d7c4c62e00613d=function(e){let t=e.createVertexArray();return h(t)?0:s(t)},e.wbg.__wbg_crypto_8b2f439d7d40e47c=function(e){return e.crypto},e.wbg.__wbg_cullFace_96a9dca4a5b1ca33=function(e,t){e.cullFace(t>>>0)},e.wbg.__wbg_cullFace_99bb4e31c974596d=function(e,t){e.cullFace(t>>>0)},e.wbg.__wbg_debug_27dd03b8945e39d7=function(e,t,r,n){console.debug(e,t,r,n)},e.wbg.__wbg_debug_347b3d1f33e1c28e=function(e){console.debug(e)},e.wbg.__wbg_deleteBuffer_9d705222a7e77a7b=function(e,t){e.deleteBuffer(t)},e.wbg.__wbg_deleteBuffer_db0d7ecbaa97fa56=function(e,t){e.deleteBuffer(t)},e.wbg.__wbg_deleteFramebuffer_69db238ea6b8a9a1=function(e,t){e.deleteFramebuffer(t)},e.wbg.__wbg_deleteFramebuffer_ecf398bec452aaf9=function(e,t){e.deleteFramebuffer(t)},e.wbg.__wbg_deleteProgram_cb18e0020d488bad=function(e,t){e.deleteProgram(t)},e.wbg.__wbg_deleteProgram_e1a6c4b922e202e3=function(e,t){e.deleteProgram(t)},e.wbg.__wbg_deleteQuery_e083394da1710d6c=function(e,t){e.deleteQuery(t)},e.wbg.__wbg_deleteRenderbuffer_05fa7f35ea76cafd=function(e,t){e.deleteRenderbuffer(t)},e.wbg.__wbg_deleteRenderbuffer_2f1216e54aa2f248=function(e,t){e.deleteRenderbuffer(t)},e.wbg.__wbg_deleteSampler_e5c61c85993f9a69=function(e,t){e.deleteSampler(t)},e.wbg.__wbg_deleteShader_257caf93b24ac555=function(e,t){e.deleteShader(t)},e.wbg.__wbg_deleteShader_fb86028e46cb069b=function(e,t){e.deleteShader(t)},e.wbg.__wbg_deleteSync_b5caedf06185d972=function(e,t){e.deleteSync(t)},e.wbg.__wbg_deleteTexture_6913f682a09c8171=function(e,t){e.deleteTexture(t)},e.wbg.__wbg_deleteTexture_a29655740b1cbe33=function(e,t){e.deleteTexture(t)},e.wbg.__wbg_deleteVertexArrayOES_2def7ce37f8e89f2=function(e,t){e.deleteVertexArrayOES(t)},e.wbg.__wbg_deleteVertexArray_a3bca8e15204ffed=function(e,t){e.deleteVertexArray(t)},e.wbg.__wbg_depthFunc_657dd592930e7f2f=function(e,t){e.depthFunc(t>>>0)},e.wbg.__wbg_depthFunc_f9fd44a07ea8398e=function(e,t){e.depthFunc(t>>>0)},e.wbg.__wbg_depthMask_87195357e4f7df17=function(e,t){e.depthMask(0!==t)},e.wbg.__wbg_depthMask_bac7f6b455b6ddeb=function(e,t){e.depthMask(0!==t)},e.wbg.__wbg_depthRange_d947e824a28dc9a1=function(e,t,r){e.depthRange(t,r)},e.wbg.__wbg_depthRange_f71c79182f666e45=function(e,t,r){e.depthRange(t,r)},e.wbg.__wbg_disableVertexAttribArray_c513f1fff3cb73f2=function(e,t){e.disableVertexAttribArray(t>>>0)},e.wbg.__wbg_disableVertexAttribArray_e7ff41dc0c3eaf1f=function(e,t){e.disableVertexAttribArray(t>>>0)},e.wbg.__wbg_disable_4c1cedffa6646166=function(e,t){e.disable(t>>>0)},e.wbg.__wbg_disable_5320561e5cb15f08=function(e,t){e.disable(t>>>0)},e.wbg.__wbg_document_c488ca7509cc6938=function(e){let t=e.document;return h(t)?0:s(t)},e.wbg.__wbg_drawArraysInstancedANGLE_55c83db2758c6ab4=function(e,t,r,n,i){e.drawArraysInstancedANGLE(t>>>0,r,n,i)},e.wbg.__wbg_drawArraysInstanced_11f863da4daf24d0=function(e,t,r,n,i){e.drawArraysInstanced(t>>>0,r,n,i)},e.wbg.__wbg_drawArrays_87e9bb0e2fb3e0fa=function(e,t,r,n){e.drawArrays(t>>>0,r,n)},e.wbg.__wbg_drawArrays_f5b0f0a0dc392c3f=function(e,t,r,n){e.drawArrays(t>>>0,r,n)},e.wbg.__wbg_drawBuffersWEBGL_22730193cdce9696=function(e,t){e.drawBuffersWEBGL(t)},e.wbg.__wbg_drawBuffers_f256d529aecd01f2=function(e,t){e.drawBuffers(t)},e.wbg.__wbg_drawElementsInstancedANGLE_db0bafff77affb0d=function(e,t,r,n,i,a){e.drawElementsInstancedANGLE(t>>>0,r,n>>>0,i,a)},e.wbg.__wbg_drawElementsInstanced_e87f1c69165df984=function(e,t,r,n,i,a){e.drawElementsInstanced(t>>>0,r,n>>>0,i,a)},e.wbg.__wbg_enableVertexAttribArray_0ce3052ae5f3f84a=function(e,t){e.enableVertexAttribArray(t>>>0)},e.wbg.__wbg_enableVertexAttribArray_2bb681a583bf0dbe=function(e,t){e.enableVertexAttribArray(t>>>0)},e.wbg.__wbg_enable_8d6ea7489b31dabd=function(e,t){e.enable(t>>>0)},e.wbg.__wbg_enable_bb868e19d5c88d56=function(e,t){e.enable(t>>>0)},e.wbg.__wbg_endQuery_b4f2566f7afc4117=function(e,t){e.endQuery(t>>>0)},e.wbg.__wbg_error_2a6b93fdada7ff11=function(e){console.error(e)},e.wbg.__wbg_error_818ac809371bfd77=function(e,t,r,n){console.error(e,t,r,n)},e.wbg.__wbg_fenceSync_68dcf439f52decac=function(e,t,r){let n=e.fenceSync(t>>>0,r>>>0);return h(n)?0:s(n)},e.wbg.__wbg_flush_0dd9c587258b403d=function(e){e.flush()},e.wbg.__wbg_flush_c80f041f78ab2d13=function(e){e.flush()},e.wbg.__wbg_framebufferRenderbuffer_308ddbcaaed66ff2=function(e,t,r,n,i){e.framebufferRenderbuffer(t>>>0,r>>>0,n>>>0,i)},e.wbg.__wbg_framebufferRenderbuffer_a23d035c46e3e192=function(e,t,r,n,i){e.framebufferRenderbuffer(t>>>0,r>>>0,n>>>0,i)},e.wbg.__wbg_framebufferTexture2D_170b0f8c792e246f=function(e,t,r,n,i,a){e.framebufferTexture2D(t>>>0,r>>>0,n>>>0,i,a)},e.wbg.__wbg_framebufferTexture2D_5366ecb050293d09=function(e,t,r,n,i,a){e.framebufferTexture2D(t>>>0,r>>>0,n>>>0,i,a)},e.wbg.__wbg_framebufferTextureLayer_daccfb6fb9396578=function(e,t,r,n,i,a){e.framebufferTextureLayer(t>>>0,r>>>0,n,i,a)},e.wbg.__wbg_framebufferTextureMultiviewOVR_e2282e87fdf2564f=function(e,t,r,n,i,a,o){e.framebufferTextureMultiviewOVR(t>>>0,r>>>0,n,i,a,o)},e.wbg.__wbg_frontFace_7b469405c0e889ee=function(e,t){e.frontFace(t>>>0)},e.wbg.__wbg_frontFace_993e921eaef39c45=function(e,t){e.frontFace(t>>>0)},e.wbg.__wbg_g_8083fccc0bfe018e=function(e){return e.g},e.wbg.__wbg_getBufferSubData_5102d8a217d0774c=function(e,t,r,n){e.getBufferSubData(t>>>0,r,n)},e.wbg.__wbg_getContext_74e4f1560c2a2fae=function(){return u(function(e,t,r,n){let i=e.getContext(f(t,r),n);return h(i)?0:s(i)},arguments)},e.wbg.__wbg_getContext_b22f05fca7ddb494=function(){return u(function(e,t,r,n){let i=e.getContext(f(t,r),n);return h(i)?0:s(i)},arguments)},e.wbg.__wbg_getExtension_28666bdc87d23aca=function(){return u(function(e,t,r){let n=e.getExtension(f(t,r));return h(n)?0:s(n)},arguments)},e.wbg.__wbg_getIndexedParameter_f9e7220a3bb8862c=function(){return u(function(e,t,r){return e.getIndexedParameter(t>>>0,r>>>0)},arguments)},e.wbg.__wbg_getParameter_304cffb9a759dc04=function(){return u(function(e,t){return e.getParameter(t>>>0)},arguments)},e.wbg.__wbg_getParameter_fd65bc6ff1b0ffd9=function(){return u(function(e,t){return e.getParameter(t>>>0)},arguments)},e.wbg.__wbg_getProgramInfoLog_032aac3e6f3a253c=function(e,t,r){let i=t.getProgramInfoLog(r);var a=h(i)?0:y(i,n.__wbindgen_malloc,n.__wbindgen_realloc),o=w;v().setInt32(e+4,o,!0),v().setInt32(e+0,a,!0)},e.wbg.__wbg_getProgramInfoLog_039168c2aed8d3fe=function(e,t,r){let i=t.getProgramInfoLog(r);var a=h(i)?0:y(i,n.__wbindgen_malloc,n.__wbindgen_realloc),o=w;v().setInt32(e+4,o,!0),v().setInt32(e+0,a,!0)},e.wbg.__wbg_getProgramParameter_70b22019524689fa=function(e,t,r){return e.getProgramParameter(t,r>>>0)},e.wbg.__wbg_getProgramParameter_9b3bdf8d90159edb=function(e,t,r){return e.getProgramParameter(t,r>>>0)},e.wbg.__wbg_getQueryParameter_e7b02fe5fd64baa5=function(e,t,r){return e.getQueryParameter(t,r>>>0)},e.wbg.__wbg_getRandomValues_7b17ba35056bcdd1=function(){return u(function(e,t){e.getRandomValues(t)},arguments)},e.wbg.__wbg_getShaderInfoLog_5c7d45bafe3be3dd=function(e,t,r){let i=t.getShaderInfoLog(r);var a=h(i)?0:y(i,n.__wbindgen_malloc,n.__wbindgen_realloc),o=w;v().setInt32(e+4,o,!0),v().setInt32(e+0,a,!0)},e.wbg.__wbg_getShaderInfoLog_d2cc881ce343a733=function(e,t,r){let i=t.getShaderInfoLog(r);var a=h(i)?0:y(i,n.__wbindgen_malloc,n.__wbindgen_realloc),o=w;v().setInt32(e+4,o,!0),v().setInt32(e+0,a,!0)},e.wbg.__wbg_getShaderParameter_6d0578dd9f58b684=function(e,t,r){return e.getShaderParameter(t,r>>>0)},e.wbg.__wbg_getShaderParameter_c50fbeadf9ef6879=function(e,t,r){return e.getShaderParameter(t,r>>>0)},e.wbg.__wbg_getSupportedExtensions_fca342bac23691db=function(e){let t=e.getSupportedExtensions();return h(t)?0:s(t)},e.wbg.__wbg_getSupportedProfiles_b2cc3aec569a65fa=function(e){let t=e.getSupportedProfiles();return h(t)?0:s(t)},e.wbg.__wbg_getSyncParameter_5688138f66b57b16=function(e,t,r){return e.getSyncParameter(t,r>>>0)},e.wbg.__wbg_getUniformBlockIndex_b53609b8ecff8b48=function(e,t,r,n){return e.getUniformBlockIndex(t,f(r,n))},e.wbg.__wbg_getUniformLocation_852fbe42afe106ff=function(e,t,r,n){let i=e.getUniformLocation(t,f(r,n));return h(i)?0:s(i)},e.wbg.__wbg_getUniformLocation_9d46a65011600cce=function(e,t,r,n){let i=e.getUniformLocation(t,f(r,n));return h(i)?0:s(i)},e.wbg.__wbg_get_68aa371864aa301a=function(e,t){return e[t>>>0]},e.wbg.__wbg_globalThis_1e2ac1d6eee845b3=function(){return u(function(){return globalThis.globalThis},arguments)},e.wbg.__wbg_global_f25a574ae080367c=function(){return u(function(){return global.global},arguments)},e.wbg.__wbg_height_4065e49e5ec4c4c1=function(e){return e.height},e.wbg.__wbg_height_51a97623165c9beb=function(e){return e.height},e.wbg.__wbg_height_74bc8ec7548ff6b6=function(e){return e.height},e.wbg.__wbg_height_a196a7b9b1d7e01c=function(e){return e.height},e.wbg.__wbg_height_cabc0c8a4c838304=function(e){return e.height},e.wbg.__wbg_includes_959087f4155febdf=function(e,t,r){return e.includes(t,r)},e.wbg.__wbg_info_ab0093df83f380f1=function(e,t,r,n){console.info(e,t,r,n)},e.wbg.__wbg_info_b6bd3cb6471c2b4c=function(e){console.info(e)},e.wbg.__wbg_instanceof_HtmlCanvasElement_9db0dfd54b2c5330=function(e){let t;try{t=e instanceof HTMLCanvasElement}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_WebGl2RenderingContext_888701598b82d45d=function(e){let t;try{t=e instanceof WebGL2RenderingContext}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Window_a959820eb267fe22=function(e){let t;try{t=e instanceof Window}catch(e){t=!1}return t},e.wbg.__wbg_invalidateFramebuffer_f4a994f4a8535cca=function(){return u(function(e,t,r){e.invalidateFramebuffer(t>>>0,r)},arguments)},e.wbg.__wbg_is_20768e55ad2a7c3f=function(e,t){return Object.is(e,t)},e.wbg.__wbg_length_2e63ba34c4121df5=function(e){return e.length},e.wbg.__wbg_length_e74df4881604f1d9=function(e){return e.length},e.wbg.__wbg_linkProgram_575f761eda0a14bc=function(e,t){e.linkProgram(t)},e.wbg.__wbg_linkProgram_5eee13e603e9af41=function(e,t){e.linkProgram(t)},e.wbg.__wbg_msCrypto_592a45e469d83ced=function(e){return e.msCrypto},e.wbg.__wbg_new_076cac58bb698dd4=function(){return{}},e.wbg.__wbg_new_0c28e72025e00594=function(){return[]},e.wbg.__wbg_new_23362fa370a0a372=function(e){return new Uint8Array(e)},e.wbg.__wbg_new_4d81617a04bc1b5b=function(e,t){return Error(f(e,t))},e.wbg.__wbg_newnoargs_19a249f4eceaaac3=function(e,t){return Function(f(e,t))},e.wbg.__wbg_newwithbyteoffsetandlength_24ff09a6b37a856f=function(e,t,r){return new Int16Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_25d3cac011b6e2d5=function(e,t,r){return new Uint32Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_457c61bfe0fb7b8c=function(e,t,r){return new Int32Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_9f48300371c8802a=function(e,t,r){return new Uint16Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_a6087a94c7bfea61=function(e,t,r){return new Int8Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_c280c15b00e018cd=function(e,t,r){return new Float32Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_ee8def7000b7b2be=function(e,t,r){return new Uint8Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithlength_91de49dea5643c87=function(e){return new Uint8Array(e>>>0)},e.wbg.__wbg_node_6d722617e26f29f2=function(e){return e.node},e.wbg.__wbg_now_5cf792f3426feb88=function(){return Date.now()},e.wbg.__wbg_of_5ae3a2d893e18853=function(e){return Array.of(e)},e.wbg.__wbg_pixelStorei_198b92c3e346678a=function(e,t,r){e.pixelStorei(t>>>0,r)},e.wbg.__wbg_pixelStorei_9c4cb0a4b040b41d=function(e,t,r){e.pixelStorei(t>>>0,r)},e.wbg.__wbg_polygonOffset_7ec31dee95d41171=function(e,t,r){e.polygonOffset(t,r)},e.wbg.__wbg_polygonOffset_c6cbc8093770e840=function(e,t,r){e.polygonOffset(t,r)},e.wbg.__wbg_process_d9ea7ce819197991=function(e){return e.process},e.wbg.__wbg_push_3e9ce81246ef1d1b=function(e,t){return e.push(t)},e.wbg.__wbg_queryCounterEXT_6da4ab4ec9c37329=function(e,t,r){e.queryCounterEXT(t,r>>>0)},e.wbg.__wbg_querySelector_473a7bd6647e7cbb=function(){return u(function(e,t,r){let n=e.querySelector(f(t,r));return h(n)?0:s(n)},arguments)},e.wbg.__wbg_r_2c5b623df3e630f4=function(e){return e.r},e.wbg.__wbg_randomFillSync_e2ae5c896c5ec592=function(){return u(function(e,t){e.randomFillSync(t)},arguments)},e.wbg.__wbg_readBuffer_8fd1512f6bdfc8f0=function(e,t){e.readBuffer(t>>>0)},e.wbg.__wbg_readPixels_48fc96a447cda9aa=function(){return u(function(e,t,r,n,i,a,o,f){e.readPixels(t,r,n,i,a>>>0,o>>>0,f)},arguments)},e.wbg.__wbg_readPixels_7b1022930a9026d1=function(){return u(function(e,t,r,n,i,a,o,f){e.readPixels(t,r,n,i,a>>>0,o>>>0,f)},arguments)},e.wbg.__wbg_readPixels_da6e94b84b4cfd41=function(){return u(function(e,t,r,n,i,a,o,f){e.readPixels(t,r,n,i,a>>>0,o>>>0,f)},arguments)},e.wbg.__wbg_renderbufferStorageMultisample_abd1099fecb2e2a4=function(e,t,r,n,i,a){e.renderbufferStorageMultisample(t>>>0,r,n>>>0,i,a)},e.wbg.__wbg_renderbufferStorage_56c61eb0bb2718a9=function(e,t,r,n,i){e.renderbufferStorage(t>>>0,r>>>0,n,i)},e.wbg.__wbg_renderbufferStorage_aa4b58453d5aca0f=function(e,t,r,n,i){e.renderbufferStorage(t>>>0,r>>>0,n,i)},e.wbg.__wbg_require_d3a2417979c32e11=function(){return u(function(){return module.require},arguments)},e.wbg.__wbg_samplerParameterf_a9708333dc0df03e=function(e,t,r,n){e.samplerParameterf(t,r>>>0,n)},e.wbg.__wbg_samplerParameteri_6011eca3eaa96ac6=function(e,t,r,n){e.samplerParameteri(t,r>>>0,n)},e.wbg.__wbg_scissor_4c06926fa8af817c=function(e,t,r,n,i){e.scissor(t,r,n,i)},e.wbg.__wbg_scissor_608c4f610141e6df=function(e,t,r,n,i){e.scissor(t,r,n,i)},e.wbg.__wbg_self_ac4343e4047b83cc=function(){return u(function(){return self.self},arguments)},e.wbg.__wbg_set_421385e996a16e02=function(){return u(function(e,t,r){return Reflect.set(e,t,r)},arguments)},e.wbg.__wbg_set_7b70226104a82921=function(e,t,r){e.set(t,r>>>0)},e.wbg.__wbg_setheight_4286b13b9186d39f=function(e,t){e.height=t>>>0},e.wbg.__wbg_setheight_7632621fed149fd9=function(e,t){e.height=t>>>0},e.wbg.__wbg_setwidth_5e43e6e177d3e2ec=function(e,t){e.width=t>>>0},e.wbg.__wbg_setwidth_db46810857c0f6bd=function(e,t){e.width=t>>>0},e.wbg.__wbg_shaderSource_7d9e91c6b9aaf864=function(e,t,r,n){e.shaderSource(t,f(r,n))},e.wbg.__wbg_shaderSource_b7db90958962e1f7=function(e,t,r,n){e.shaderSource(t,f(r,n))},e.wbg.__wbg_stencilFuncSeparate_903776516b404f1e=function(e,t,r,n,i){e.stencilFuncSeparate(t>>>0,r>>>0,n,i>>>0)},e.wbg.__wbg_stencilFuncSeparate_9987b0fe1f74adc3=function(e,t,r,n,i){e.stencilFuncSeparate(t>>>0,r>>>0,n,i>>>0)},e.wbg.__wbg_stencilMaskSeparate_24a5bad679d4896c=function(e,t,r){e.stencilMaskSeparate(t>>>0,r>>>0)},e.wbg.__wbg_stencilMaskSeparate_5ade706794e0ff10=function(e,t,r){e.stencilMaskSeparate(t>>>0,r>>>0)},e.wbg.__wbg_stencilMask_8ccbc71e58e71b93=function(e,t){e.stencilMask(t>>>0)},e.wbg.__wbg_stencilMask_e03561d8e6b7171a=function(e,t){e.stencilMask(t>>>0)},e.wbg.__wbg_stencilOpSeparate_13e313403862a2bc=function(e,t,r,n,i){e.stencilOpSeparate(t>>>0,r>>>0,n>>>0,i>>>0)},e.wbg.__wbg_stencilOpSeparate_e03fe45a6a83cf8f=function(e,t,r,n,i){e.stencilOpSeparate(t>>>0,r>>>0,n>>>0,i>>>0)},e.wbg.__wbg_subarray_b4e9772c34a7f5ba=function(e,t,r){return e.subarray(t>>>0,r>>>0)},e.wbg.__wbg_texImage2D_0054f31782d533db=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texImage2D_102612af3b3ea301=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texImage2D_38f7a3dc4dcf0183=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texImage3D_4828de4d80648b9d=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l){e.texImage3D(t>>>0,r,n,i,a,o,f,s>>>0,u>>>0,l)},arguments)},e.wbg.__wbg_texImage3D_c030a14903b8ab68=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l){e.texImage3D(t>>>0,r,n,i,a,o,f,s>>>0,u>>>0,l)},arguments)},e.wbg.__wbg_texParameteri_2cc96bb59a67d4c2=function(e,t,r,n){e.texParameteri(t>>>0,r>>>0,n)},e.wbg.__wbg_texParameteri_8e4109b7fbd3b875=function(e,t,r,n){e.texParameteri(t>>>0,r>>>0,n)},e.wbg.__wbg_texStorage2D_728b9632dbd913e2=function(e,t,r,n,i,a){e.texStorage2D(t>>>0,r,n>>>0,i,a)},e.wbg.__wbg_texStorage3D_04d10ef19e465ec2=function(e,t,r,n,i,a,o){e.texStorage3D(t>>>0,r,n>>>0,i,a,o)},e.wbg.__wbg_texSubImage2D_0c095c30c73e34c0=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage2D_3c9a9ceac3c27fe7=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage2D_3dbb6fb895fd53a7=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage2D_4e505a214a40fc20=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage2D_7197aef4cdbc7d70=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage2D_746d9e75d2dd12d1=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage2D_ca1d7744b168aa02=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage2D_da8455e8da280cee=function(){return u(function(e,t,r,n,i,a,o,f,s,u){e.texSubImage2D(t>>>0,r,n,i,a,o,f>>>0,s>>>0,u)},arguments)},e.wbg.__wbg_texSubImage3D_82336f6100e3ef24=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l,c){e.texSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l>>>0,c)},arguments)},e.wbg.__wbg_texSubImage3D_831e19830a791320=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l,c){e.texSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l>>>0,c)},arguments)},e.wbg.__wbg_texSubImage3D_9623fc609df925f5=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l,c){e.texSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l>>>0,c)},arguments)},e.wbg.__wbg_texSubImage3D_9a8cb5676fdf0b50=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l,c){e.texSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l>>>0,c)},arguments)},e.wbg.__wbg_texSubImage3D_a18f6424082a9393=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l,c){e.texSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l>>>0,c)},arguments)},e.wbg.__wbg_texSubImage3D_d127dad275801f75=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l,c){e.texSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l>>>0,c)},arguments)},e.wbg.__wbg_texSubImage3D_ebd1f2b229a92c5d=function(){return u(function(e,t,r,n,i,a,o,f,s,u,l,c){e.texSubImage3D(t>>>0,r,n,i,a,o,f,s,u>>>0,l>>>0,c)},arguments)},e.wbg.__wbg_uniform1f_163e6ffe0d9805a4=function(e,t,r){e.uniform1f(t,r)},e.wbg.__wbg_uniform1f_bb85eb8ed9248e52=function(e,t,r){e.uniform1f(t,r)},e.wbg.__wbg_uniform1i_9fe01b91ff85aa85=function(e,t,r){e.uniform1i(t,r)},e.wbg.__wbg_uniform1i_da7c764279d55bb5=function(e,t,r){e.uniform1i(t,r)},e.wbg.__wbg_uniform1ui_1cd8b5fee3b44787=function(e,t,r){e.uniform1ui(t,r>>>0)},e.wbg.__wbg_uniform2fv_40e0cc0b3d7ab815=function(e,t,r,n){e.uniform2fv(t,c(r,n))},e.wbg.__wbg_uniform2fv_d7ec4f77d2282f77=function(e,t,r,n){e.uniform2fv(t,c(r,n))},e.wbg.__wbg_uniform2iv_6d1ed66fa019f1a6=function(e,t,r,n){e.uniform2iv(t,d(r,n))},e.wbg.__wbg_uniform2iv_b36969471f3bb8e2=function(e,t,r,n){e.uniform2iv(t,d(r,n))},e.wbg.__wbg_uniform2uiv_e5d292b09c7c2eb4=function(e,t,r,n){e.uniform2uiv(t,g(r,n))},e.wbg.__wbg_uniform3fv_4f40a7b75bcdeb91=function(e,t,r,n){e.uniform3fv(t,c(r,n))},e.wbg.__wbg_uniform3fv_c6fea7086ffa568e=function(e,t,r,n){e.uniform3fv(t,c(r,n))},e.wbg.__wbg_uniform3iv_46cafa9a87333139=function(e,t,r,n){e.uniform3iv(t,d(r,n))},e.wbg.__wbg_uniform3iv_c13167af320af60e=function(e,t,r,n){e.uniform3iv(t,d(r,n))},e.wbg.__wbg_uniform3uiv_7e60873d7a35f50b=function(e,t,r,n){e.uniform3uiv(t,g(r,n))},e.wbg.__wbg_uniform4f_2408c0a3b4a0941d=function(e,t,r,n,i,a){e.uniform4f(t,r,n,i,a)},e.wbg.__wbg_uniform4f_4eebf85a05c60a16=function(e,t,r,n,i,a){e.uniform4f(t,r,n,i,a)},e.wbg.__wbg_uniform4fv_7ecf41f27e0e71ec=function(e,t,r,n){e.uniform4fv(t,c(r,n))},e.wbg.__wbg_uniform4fv_c88b1733f9a40a7a=function(e,t,r,n){e.uniform4fv(t,c(r,n))},e.wbg.__wbg_uniform4iv_0ee5d566bd3880e4=function(e,t,r,n){e.uniform4iv(t,d(r,n))},e.wbg.__wbg_uniform4iv_cd69e9451d767045=function(e,t,r,n){e.uniform4iv(t,d(r,n))},e.wbg.__wbg_uniform4uiv_c55d0b6c672eaf59=function(e,t,r,n){e.uniform4uiv(t,g(r,n))},e.wbg.__wbg_uniformBlockBinding_e646e98e7f5da8fa=function(e,t,r,n){e.uniformBlockBinding(t,r>>>0,n>>>0)},e.wbg.__wbg_uniformMatrix2fv_ae2d3b42477e00fd=function(e,t,r,n,i){e.uniformMatrix2fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix2fv_d44126fac416e7e4=function(e,t,r,n,i){e.uniformMatrix2fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix2x3fv_18d94e4451a372cc=function(e,t,r,n,i){e.uniformMatrix2x3fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix2x4fv_c34a8a330e7c94bd=function(e,t,r,n,i){e.uniformMatrix2x4fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix3fv_652493ea4042e14f=function(e,t,r,n,i){e.uniformMatrix3fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix3fv_a3b27e44f0ad7caa=function(e,t,r,n,i){e.uniformMatrix3fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix3x2fv_1bc7685c610e2b46=function(e,t,r,n,i){e.uniformMatrix3x2fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix3x4fv_c99cdce05d7ffca9=function(e,t,r,n,i){e.uniformMatrix3x4fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix4fv_a5f6838f6e217418=function(e,t,r,n,i){e.uniformMatrix4fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix4fv_bbdf3d84ccedee84=function(e,t,r,n,i){e.uniformMatrix4fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix4x2fv_05ec6db042145650=function(e,t,r,n,i){e.uniformMatrix4x2fv(t,0!==r,c(n,i))},e.wbg.__wbg_uniformMatrix4x3fv_c393892235ce0f8b=function(e,t,r,n,i){e.uniformMatrix4x3fv(t,0!==r,c(n,i))},e.wbg.__wbg_updatehittesting_20e1fc53e9b42b5f=function(e){return e.update_hit_testing},e.wbg.__wbg_useProgram_795e70e5047fcb65=function(e,t){e.useProgram(t)},e.wbg.__wbg_useProgram_e84b53bf74bbe9b3=function(e,t){e.useProgram(t)},e.wbg.__wbg_versions_c8e8bcb59a0bf647=function(e){return e.versions},e.wbg.__wbg_vertexAttribDivisorANGLE_78ad959056e0feb7=function(e,t,r){e.vertexAttribDivisorANGLE(t>>>0,r>>>0)},e.wbg.__wbg_vertexAttribDivisor_bc3026299e814316=function(e,t,r){e.vertexAttribDivisor(t>>>0,r>>>0)},e.wbg.__wbg_vertexAttribIPointer_4397ca04b895d127=function(e,t,r,n,i,a){e.vertexAttribIPointer(t>>>0,r,n>>>0,i,a)},e.wbg.__wbg_vertexAttribPointer_1738c34c1c0d57a0=function(e,t,r,n,i,a,o){e.vertexAttribPointer(t>>>0,r,n>>>0,0!==i,a,o)},e.wbg.__wbg_vertexAttribPointer_34a2b143ee35746f=function(e,t,r,n,i,a,o){e.vertexAttribPointer(t>>>0,r,n>>>0,0!==i,a,o)},e.wbg.__wbg_videoHeight_7d8449d4b1aad15d=function(e){return e.videoHeight},e.wbg.__wbg_videoWidth_134d623b7b20f203=function(e){return e.videoWidth},e.wbg.__wbg_viewport_04c48fc077486d94=function(e,t,r,n,i){e.viewport(t,r,n,i)},e.wbg.__wbg_viewport_301bba26f65246ed=function(e,t,r,n,i){e.viewport(t,r,n,i)},e.wbg.__wbg_warn_43ba5f40fc329fe9=function(e,t,r,n){console.warn(e,t,r,n)},e.wbg.__wbg_warn_a6963915e4da61f6=function(e){console.warn(e)},e.wbg.__wbg_width_514dd9b3b0cff49c=function(e){return e.width},e.wbg.__wbg_width_551edb4bb900e3dd=function(e){return e.width},e.wbg.__wbg_width_826b25a505a0b357=function(e){return e.width},e.wbg.__wbg_width_e9eedd46da897708=function(e){return e.width},e.wbg.__wbg_width_ee6a46425045c0dd=function(e){return e.width},e.wbg.__wbg_window_1a23defd102c72f4=function(){return u(function(){return window.window},arguments)},e.wbg.__wbindgen_boolean_get=function(e){return"boolean"==typeof e?+!!e:2},e.wbg.__wbindgen_debug_string=function(e,t){let r=y(function e(t){let r,n=typeof t;if("number"==n||"boolean"==n||null==t)return`${t}`;if("string"==n)return`"${t}"`;if("symbol"==n){let e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==n){let e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){let r=t.length,n="[";r>0&&(n+=e(t[0]));for(let i=1;i<r;i++)n+=", "+e(t[i]);return n+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(r=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}(t),n.__wbindgen_malloc,n.__wbindgen_realloc),i=w;v().setInt32(e+4,i,!0),v().setInt32(e+0,r,!0)},e.wbg.__wbindgen_error_new=function(e,t){return Error(f(e,t))},e.wbg.__wbindgen_externref_heap_live_count=function(){return n.__externref_heap_live_count()},e.wbg.__wbindgen_init_externref_table=function(){let e=n.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof e},e.wbg.__wbindgen_is_object=function(e){return"object"==typeof e&&null!==e},e.wbg.__wbindgen_is_string=function(e){return"string"==typeof e},e.wbg.__wbindgen_is_undefined=function(e){return void 0===e},e.wbg.__wbindgen_memory=function(){return n.memory},e.wbg.__wbindgen_number_get=function(e,t){let r="number"==typeof t?t:void 0;v().setFloat64(e+8,h(r)?0:r,!0),v().setInt32(e+0,!h(r),!0)},e.wbg.__wbindgen_number_new=function(e){return e},e.wbg.__wbindgen_string_get=function(e,t){let r="string"==typeof t?t:void 0;var i=h(r)?0:y(r,n.__wbindgen_malloc,n.__wbindgen_realloc),a=w;v().setInt32(e+4,a,!0),v().setInt32(e+0,i,!0)},e.wbg.__wbindgen_string_new=function(e,t){return f(e,t)},e.wbg.__wbindgen_throw=function(e,t){throw Error(f(e,t))},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:i,module:o}=await L(await e,t);return n=i.exports,V.__wbindgen_wasm_module=o,x=null,l=null,_=null,b=null,a=null,n.__wbindgen_start(),n}let j=V;var q,$,N,W=Object.defineProperty,U=e=>{throw TypeError(e)},Q=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?W(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r},H=(e,t,r)=>t.has(e)||U("Cannot "+r),G=(e,t,r)=>(H(e,t,"read from private field"),r?r.call(e):t.get(e)),X=(e,t,r)=>t.has(e)?U("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Y=(e,t,r,n)=>(H(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);let Z=class e{constructor(e){Q(this,"turns",0),this.turns=e}get degrees(){return 360*this.turns}set degrees(e){this.turns=360*e}get radians(){return 2*this.turns*Math.PI}set radians(e){this.turns=2*e*Math.PI}add(t){return new e(this.turns+t.turns)}sub(t){return new e(this.turns-t.turns)}multiply(t){return new e(this.turns*t)}divide(t){return new e(this.turns/t)}};Q(Z,"zero",()=>new Z(0)),Q(Z,"fromTurns",e=>new Z(e)),Q(Z,"fromDegrees",e=>new Z(e/360)),Q(Z,"fromRadians",e=>new Z(e/(2*Math.PI)));class J{constructor(e,t){X(this,q),X(this,$),Y(this,q,new WeakRef(e)),Y(this,$,t)}get index(){return G(this,$)}get parent(){var e;return null==(e=G(this,q))?void 0:e.deref()}static unlinkManyFromList(e,t,r){r??(r=e.length-t);let n=e.splice(t,r);for(let r=t;r<e.length;r++)Y(e[r],$,r);n.forEach(e=>{Y(e,$,-1),Y(e,q,void 0)})}static updateIndex(e,t,r){let n=e.splice(t,1)[0];e.splice(r,0,n);for(let t=0;t<e.length;t++)Y(e[t],$,t)}}q=new WeakMap,$=new WeakMap;class K{constructor(e){X(this,N),Y(this,N,e)}get proxy(){return G(this,N)}static proxyOf(e){if(e)return G(e,N)}static takeProxy(e){if(!e)return;let t=G(e,N);return Y(e,N,void 0),t}}N=new WeakMap;var ee=Object.defineProperty,et=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?ee(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class er{constructor(e=0,t=0){et(this,"horizontal"),et(this,"vertical"),this.horizontal=e,this.vertical=t}static horizontal(){return new er(1,0)}static vertical(){return new er(0,1)}static both(){return new er(1,1)}static none(){return new er}}class en{constructor(e){this.proxy=e}updateFloat(e,t){return this.proxy.set_float(e,t),this}updateInt(e,t){return this.proxy.set_int(e,t),this}updateBool(e,t){return this.proxy.set_bool(e,t),this}updatePoint(e,t){return this.proxy.set_point(e,t.x,t.y),this}updateLine(e,t){let{start:r,end:n}=t;return this.proxy.set_line(e,r.x,r.y,n.x,n.x),this}updateColor(e,t){return this.proxy.set_color(e,t),this}}function ei(e,t){try{if(!e)return!1;let r=new en(e);return null==t||t(r),!0}catch(t){return console.warn(`Effect or filter ${name} created but not well set:`,t),void 0!==e}finally{null==e||e.free()}}class ea{constructor(e,t){this.builderProxy=e,this.frameRef=t}addTransition(e,t,r){r(this.frameRef),this.builderProxy.add_transition(e,t,this.frameRef)}}class eo extends J{constructor(e,t,r,n,i,a){super(e,r),et(this,"stickerId"),et(this,"keyFrameItemId"),et(this,"shuffleItemId"),et(this,"localId"),et(this,"_currentProxyRef",null),this.stickerId=t,this.keyFrameItemId=n,this.shuffleItemId=i,this.localId=a}scopedOrNull(e){if(this._currentProxyRef instanceof z)return e(this);let t=K.proxyOf(this.parent);if(void 0===t)return e(null);let r=t.scene_item_mut_by_id(this.stickerId);if(void 0===r)return e(null);try{return this._currentProxyRef=r,e(this)}finally{this._currentProxyRef=null,r.free()}}scopedRef(e){return this.scopedOrNull(()=>{let t=this._currentProxyRef;if(t instanceof z)return e(t);throw Error(`SceneItem(id: ${this.stickerId}) is not linked to a parent`)})}preventScoped(e){if(null!==this._currentProxyRef)throw Error("SceneItem reference can not be moved when it is scoped");let t=this.parent;void 0!==t&&e(t)}get scale(){return this.scopedRef(e=>e.scale())}get position(){return this.scopedRef(e=>e.pos())}get size(){return this.scopedRef(e=>e.size())}clearColorEffects(){return this.scopedRef(e=>e.clear_color_effects())}upsertColorEffectByName(e,t){return this.scopedRef(r=>ei(r.upsert_color_effect_by_name(e),t))}clearDistortionEffects(){return this.scopedRef(e=>e.clear_distortion_effects())}upsertDistortionEffectByName(e,t){return this.scopedRef(r=>ei(r.upsert_distortion_effect_by_name(e),t))}setKernelEffectByName(e,t){return this.scopedRef(r=>ei(r.set_kernel_effect_by_name(e),t))}unsetKernelEffect(){return this.scopedRef(e=>e.unset_kernel_effect())}clearFilters(){return this.scopedRef(e=>e.clear_filters())}upsertFilterByName(e,t){return this.scopedRef(r=>ei(r.upsert_filter_by_name(e),t))}setOpacity(e){return this.scopedRef(t=>t.set_opacity(e)),this}setPos(e,t,r){return this.scopedRef(n=>n.setPos(e,t,r)),this}setSize(e,t){return this.scopedRef(r=>r.setSize(e,t)),this}setScale(e){return this.scopedRef(t=>t.setScale(e)),this}setRotation(e){return this.scopedRef(t=>t.set_rotation_turns(e.turns)),this}setFlip(e){return this.scopedRef(t=>t.setFlip(e.horizontal,e.vertical)),this}moveToIndex(e){return this.preventScoped(t=>{let r=this.index;t.moveItemToIndex(r,e)})}setKeyFrames(e,t){let r=K.proxyOf(this.parent);if(void 0!==r)return this.scopedRef(n=>{let i=n.reset_key_frames(r,e);try{let e=i.first_frame();try{t(new ea(i,e)),i.build()}finally{e.free()}}finally{i.free()}})}}class ef extends K{constructor(e,t,r,n=k.Info,i=!1){let a=new C(e,n.valueOf(),i);a.set_size(t,r),super(a),et(this,"sceneItems",[]),et(this,"_logLevel",k.Info),this._logLevel=n}get _proxy(){return K.proxyOf(this)??null}destroy(){let e=K.takeProxy(this);e&&(this.clearSceneItems(),this.log("XRenderer: destroy before free() - proxy",e),e.free(),this.log("XRenderer: destroy after free() - proxy",e))}get width(){var e;return(null==(e=this._proxy)?void 0:e.width())??0}set width(e){var t;null==(t=this._proxy)||t.set_width(e)}get height(){var e;return(null==(e=this._proxy)?void 0:e.height())??0}set height(e){var t;null==(t=this._proxy)||t.set_height(e)}get isSetup(){return null!=this._proxy||(this._logLevel<=k.Warn&&console.warn("XRenderer has been destroyed"),!1)}render(e){var t;if(null==this._proxy)return;let r={update_hit_testing:(null==e?void 0:e.updateHitTesting)??!1};r.update_hit_testing&&this.log("XRenderer: render called"),null==(t=this._proxy)||t.tick(r)}itemAt(e,t){var r;let n=null==(r=this._proxy)?void 0:r.scene_item_at(e,t);return n?this.sceneItems.find(e=>e.stickerId==n)??null:null}setBgColor(e){var t;null==(t=this._proxy)||t.set_bg_color(e)}setFocusedItem(e){var t;null==(t=this._proxy)||t.set_focused_item(null==e?void 0:e.stickerId)}addSceneItem(e,t,r,n){if(!this._proxy)throw Error("Renderer was destroyed");let i=new eo(this,this._proxy.add_scene_item(e),this.sceneItems.length,t,r,n);return this.sceneItems.push(i),i}moveItemToIndex(e,t){let r=this._proxy;if(null==r)return;let n=this.sceneItems.length;if(e>=n)throw Error(`fromIndex=${e} is out of range`);if(t>=n)throw Error(`toIndex=${t} is out of range`);r.change_item_index(e,t),J.updateIndex(this.sceneItems,e,t)}removeSceneItemById(e){let t=this._proxy;if(null==t)return;t.remove_scene_item_by_id(e);let r=this.sceneItems.findIndex(t=>t.stickerId==e);-1!=r&&J.unlinkManyFromList(this.sceneItems,r,1)}clearSceneItems(){var e;null==(e=this._proxy)||e.clear_items(),J.unlinkManyFromList(this.sceneItems,0)}findSceneItemWhen(e){return this.sceneItems.find(e)}mapSceneItems(e){return this.sceneItems.map(e)}setHighlightedEffectSettings(e){var t;let r;try{if(r=null==(t=this._proxy)?void 0:t.highlighted_effect_settings()){let t=new en(r);e(t)}}finally{null==r||r.free()}}log(e,...t){this._logLevel<=k.Debug&&console.log(e,...t)}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/57207-3d292fc71bcd3c12.mjs.map